2010-01-05  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws Mail and its plugins, fix
	packages.

2010-01-05  Werner Koch  <wk@g10code.com>

	* packages/download.sh: Add option --quiet.

	* m4/gpg4win.m4: Quote variables in test comamnds instead of using
	instead of comparing against xno or xyes.

	* packages/packages.current: Update gpgex and gpgol.  Update
	libpng and pkgconfig.

2009-12-22  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update libgcrypt and GnuPG.  Update
	GpgOL to the latest svn version.

2009-12-18  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* src/installer.nsi,
	  doc/logo/gpg4win-nsis-wizard-install-164x314.bmp,
	  doc/logo/gpg4win-nsis-wizard-uninstall-164x314.bmp,
	  doc/logo/gpg4win-nsis-install.ico,
	  doc/logo/gpg4win-nsis-header-install-150x57.bmp,
  	  doc/logo/gpg4win-nsis-uninstall.ico,
	  doc/logo/gpg4win-nsis-header-uninstall-150x57.bmp:
	  Add new bitmaps and icons for nsis installer.

2009-12-15  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update gnupg, kleopatra and kdelibs.

2009-12-08  Colin Leroy  <colin@colino.net>

	* src/inst-claws-mail.nsi, src/uninst-claws-mail.nsi, 
	src/Makefile.am, packages/packages.current: Update Claws Mail
	and its plugins.

2009-10-20  Marcus Brinkmann  <marcus@g10code.com>

	* src/gpg4win.mk.in (SPKG stamps/stamp-$(1)-04-install): Remove
	share/info/dir to avoid stow conflicts.

2009-10-08  Marcus Brinkmann  <marcus@g10code.com>

	* Makefile.am (EXTRA_DIST): Add
	patches/scute-1.3.0/01-wsastartup.patch.

2009-10-05  Marcus Brinkmann  <marcus@g10code.com>

	* src/inst-sections.nsi (calc_defaults_man_advanced_en_done):
	Demagicize a couple of skip_* goto targets for MSI parsing.
	* src/make-msi.pl: Support APPDATA.

2009-09-28  Werner Koch  <wk@g10code.com>

	Release 2.0.1.

	* src/gpg4win.mk.in (README_template): New.
	* src/Makefile.am (README.en.txt, README.de.txt): Remove
	(gpg4win_readme_ll): New.
	(README_files): New.
	(CLEANFILES): Delete all README files.
	(gpg4win-$(VERSION).exe, gpg4win-light-$(VERSION).exe)
	(gpg4win-$(VERSION).wix, gpg4win-light-$(VERSION).wix): Depend on
	all readme files.

	* src/inst-gpg4win.nsi: Install ar, es, fr and ru REDME files.
	* src/uninst-gpg4win.nsi: Uninstall them.

2009-09-28  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* configure.ac: Change compendium-de date and version (3.0.0-beta4)

2009-09-28  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gpgol to 1.0.1.

	* patches/gnupg2-2.0.12/11-photoid-sk.patch: New.

2009-09-25  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra (changed gpg4win version 
          number '2.0.1' only).

2009-09-14  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* configure.ac: Change compendium-de date and version
	(3.0.0-beta4-svn1286).

	* configure.ac: Change compendium-de date and version
	(3.0.0-beta4-svn1284).

2009-09-01  Colin Leroy  <colin@colino.net>

	* packages/packages.current: update Claws Mail - bugfixes
	(bad outgoing encoding in japanese, early crash accessing
	IMAP, LDAP crash on non-existent server)

2009-08-31  Werner Koch  <wk@g10code.com>

	Release 2.0.1rc1.

2009-08-07  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* configure.ac: Change compendium-de date and version
	(3.0.0-beta4-svn1273).

2009-08-28  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gpgol to svn308.

2009-08-19  Marcus Brinkmann  <marcus@g10code.com>

	* src/inst-gpgex.nsi: Fix arabic and russian translation.

2009-08-07  Werner Koch  <wk@g10code.com>

	Release 2.0.0.

	* patches/dirmngr-1.0.3/01-ldaphttp.patch: New.
	* Makefile.am (EXTRA_DIST): Add it.

2009-08-07  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra and kdelibs.
	* NEWS: Change compendium version.
	* configure.ac: Change compendium-de date and version (3.0.0-beta3).
	* ChangeLog, po/ChangeLog: Move old ChangeLog entries of
	po files to po/ChangeLog.

2009-08-06  Werner Koch  <wk@g10code.com>

	* patches/gnupg2-2.0.12/10-inv-sgnr.patch: New.
	* patches/gpgme-1.2.0/02-inv-signer.patch: New.
	* Makefile.am (EXTRA_DIST): Add them.

	* NEWS: Strip old stuff.
	* ONEWS: New.

2009-08-05  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra and kdelibs.

2009-08-04  Marcus Brinkmann  <marcus@g10code.de>

	* patches/gpgex-0.9.3/02-doc.patch: New file.
	* Makefile.am (EXTRA_DIST): Add it.
	* src/uninst-qt.nsi, src/inst-qt.nsi: Install qdbus.exe.
	* src/uninst-kleopatra.nsi: Use it to stop a running kleopatra
	process.  Add missing doc files to uninstall.

2009-08-03  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* src/uninst-kleopatra.nsi, src/inst-kleopatra.nsi:
	  Add smarcard icon and kleopatra handbook (HTML).
	* packages/packages.current: Update kleopatra and kdelibs.


2009-07-31  Marcus Brinkmann  <marcus@g10code.com>

	* patches/gnupg2-2.0.12/09-sm-keylist.patch: New file.
	* Makefile.am (EXTRA_DIST): Add it.

2009-07-30  Werner Koch  <wk@g10code.com>

	* patches/gnupg2-2.0.12/08-sm-learn-card.patch: New.

2009-07-29  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws Mail (focus
	problem fix)

2009-07-29  Werner Koch  <wk@g10code.com>

	* README: Explain version numbering.

2009-07-28  Colin Leroy  <colin@colino.net>

	* patches/libetpan-0.54: Removed
	* patches/claws-mail-3.7.0: Removed
	* patches/claws-mail-3.7.1: Removed
	* patches/libetpan-0.57/01-gnutls_compat.patch: New. Fixes
	connection to some non-compliant servers
	* Makefile.am: Reflect patches/ changes
	* packages/packages.current: Update Claws Mail and its
	plugins

2009-07-17  Marcus Brinkmann  <marcus@g10code.de>

	* patches/gpgex-0.9.3/01-full-browser.patch: New file.
	* Makefile.am (EXTRA_DIST): Add this file.

2009-07-13  Werner Koch  <wk@g10code.com>

	* patches/gnupg2-2.0.12/06-opgp-sign3072.patch: New.
	* patches/gnupg2-2.0.12/07-gpg-no-detached.patch: New.
	* Makefile.am (EXTRA_DIST): Add them..
	
2009-07-10  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kdesupport.

2009-07-09  Werner Koch  <wk@g10code.com>

	* patches/gnupg2-2.0.12/03-opgp-writekey.patch: New.
	* patches/gnupg2-2.0.12/04-hash-prefs.patch: New.
	* patches/gnupg2-2.0.12/05-dns-sd.patch: New.
	* Makefile.am (EXTRA_DIST): Add them.
	
2009-06-26  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kdesupport.

2009-06-23  Werner Koch  <wk@g10code.com>

	Release 2.0.0rc1.

2009-06-22  Werner Koch  <wk@g10code.com>

	* src/gpg4win.mk.in: Remove possible triple make invocation to
	get again duplicable results.

2009-06-22  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra, kdelibs.

2009-06-22  Werner Koch  <wk@g10code.com>

	* src/inst-libiconv.nsi: Install in stop dir again and keep a copy
	in pub for now.
	* src/uninst-libiconv.nsi: Change rules accordingly.

	* src/Makefile.am (versioninfo.txt): Allow for 0 packages which
	may happen in a make distcheck.

2009-06-22  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra, kdelibs.

2009-06-22  Werner Koch  <wk@g10code.com>

	* patches/gnupg2-2.0.12/02-pth-estream.patch: New.
	* Makefile.am (EXTRA_DIST): Add it.

2009-06-21  Marcus Brinkmann  <marcus@g10code.de>

	* patches/gpgme-1.2.0/01-w32-io-threads.patch: New file.
	* Makefile.am (EXTRA_DIST): Add it.

2009-06-20  Werner Koch  <wk@g10code.com>

	* patches/gpa-0.9.0/01-title-prop.patch: New.

	* src/Makefile.am (versioninfo.txt): Add old pipeline to properly
	format the list.
	(CLEANFILES): Add versioninfo.tmp.

2009-06-20  Marcus Brinkmann  <marcus@g10code.com>

	* m4/gpg4win.m4 (GPG4WIN_IPKG, GPG4WIN_SPKG, GPG4WIN_BPKG)
	(GPG4WIN_MPKG): Define new substitution variables
	gpg4win_pkg_PKGNAME_deps, to transfer the knowledge of the
	dependency tree to the Makefiles.
	* src/gpg4win.mk.in (SPKG_template, BPKG_template): Wrap it in a
	test for package name being NO.
	(pkg_files): New variable, listing all package files.
	(VERSIONINFO_macro): Removed.
	(GETDEPS): New macro.
	* src/Makefile.am (versioninfo.txt): Use pkg_files to create
	versioninfo.txt.

2009-06-20  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GPA.

2009-06-19  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Add Scute.  Update GpgOL.

	* src/inst-scute.nsi: Need to use libscute-0.dll now.

2009-06-19  Marcus Brinkmann  <marcus@g10code.de>

	* src/Makefile.am (gpg4win_pkg_scute_configure): Fix typo, should
	have been gpg-error, not gpgme.

	* Makefile.am (EXTRA_DIST): Fix path to gnupg2 patch file.

2009-06-19  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* NEWS: Change compendium version.

	* configure.ac: Change compendium date and version (de).

2009-06-19  Marcus Brinkmann  <marcus@g10code.com>

	* packages/packages.current: Update pinentry to 0.7.6.

2009-06-18  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Use name directive for kdesupport.

2009-06-18  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kdesupport.

2009-06-18  Marcus Brinkmann  <marcus@g10code.com>

	* packages/packages.current: Update gpgme to 1.2.0.

2009-06-18  Werner Koch  <wk@g10code.com>

	* NEWS: Remove unneeded info about the 1.9 beta releases.

	* patches/gnupg2-2.0.9/01-scd-pw2.patch: New.

2009-06-17  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kdesupport.

2009-06-17  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GnuPG and Dirmngr.

	* src/installer.nsi (PrintBetaWarning): Comment out.
	(PrintNonAdminWarning): Do not call beta warning.

2009-06-10  Werner Koch  <wk@g10code.com>

	* src/uninst-gpg4win.nsi: Remove pub/.

2009-06-09  Werner Koch  <wk@g10code.com>

	* src/inst-gnupg2.nsi: Install gpgconf into pub/.
	* src/uninst-gnupg2.nsi: Uninsteall wrapped gpgconf.

	* packages/packages.current: Update GPGME, GPA and GnuPG.

2009-06-08  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GnuPG and GPA.

2009-06-05  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update libksba.

2009-05-26  Marcus Brinkmann  <marcus@g10code.com>

	* src/inst-pinentry.nsi: Install pinentry-qt-4.
	* src/uninst-pinentry.nsi: Uninstall pinentry-qt-4.

2009-05-14  Werner Koch  <wk@g10code.com>

	Release 1.9.16.

2009-05-14  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kdelibs and kleopatra.

2009-05-14  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update pinentry and gpgme.

2009-05-13  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GnuPG and GPA.
	
2009-05-04  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra and kdelibs (note:
	server changed).

2009-04-09  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpgme and pinentry.

	* src/QtCore.pc, src/QtGui.pc: Fix macro definitions.

2009-04-09  Colin Leroy  <colin@colino.net>

	* patches/claws-mail-3.7.1/04-3.7.1cvs41.patch: New file.
	Fixes some focusing issues

2009-04-08  Marcus Brinkmann  <marcus@g10code.de>

	* Makefile.am (EXTRA_DIST): Remove glib-2.9.2 patches and add
	patches/glib-2.20.0/01-socket.patch.
	* patches/glib-2.12.12/01-socket.patch: New file.
	* patches/glib-2.9.2-wk1/01-giowin32.patch,
	patches/glib-2.9.2-wk1/02-gspawn-w32.patch,
	patches/glib-2.9.2-wk1/03-gspawn-w32-fixup.patch,
	patches/glib-2.9.2-wk1/04-gspawn-w32-buffering.patch: Removed.

2009-04-03  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update pinentry, libpng, glib, atk,
	pango, cairo, gtk+, pkgconfig.
	* configure.ac: libpng is now from GTK.
	* src/inst-atk.nsi, src/uninst-atk.nsi, src/inst-pango.nsi,
	src/inst-libpng.nsi, src/uninst-glib.nsi, src/uninst-libpng.nsi,
	src/inst-gtk+.nsi, src/uninst-gtk+.nsi, src/inst-glib.nsi,
	src/uninst-pango.nsi: Update for new version of the packages.
	* src/Makefile.am (gpg4win_pkg_libpng_post_install): Fix path for
	new package version.

	* src/Makefile.am (gpg4win_pkg_qt_post_install): New macro.
	* src/QtCore.pc, src/QtGui.pc: New files.
	* src/gpg4win.mk.in: Clear PKG_CONFIG_LIBDIR.

2009-04-02  Marcus Brinkmann  <marcus@g10code.de>

	* Makefile.am (EXTRA_DIST): Remove
	patches/gpgme/02-kleo-bugs-workaround.patch.
	* patches/gpgme/02-kleo-bugs-workaround.patch: Removed.

	* Makefile.am (EXTRA_DIST): Add patches for claws.
	* patches/claws-3.7.1/03-pipe.patch: New file.

	* src/Makefile.am (gpg4win_pkg_glib_configure): Set CCC to mingw's g++.

2009-03-25  Werner Koch  <wk@g10code.com>

	Release 1.9.15.

	* packages/packages.current: Update GnuPG.

2009-03-24  Marc Mutz <marc@kdab.net>

	* packages/packages.current: ftp.intevation.org -> ftp.kdab.net
	for kleopatra packages.

2009-03-24  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update kleopatra and kdelibs tarballs
	from the Intevation server.  Update gpgex.
	
2009-03-24  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kdelibs.

2009-03-24  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi: Add new file
	gpg4win-compact.png.

2009-03-24  Marc Mutz <marc@kdab.net>

	* src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi: Add new files
	gpg4win.png, kleopatra_config_gnupgsystem.desktop.

2009-03-23  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* src/gpg4win-src.nsi: Change English T_AboutGpg4win text.

2009-03-19  Colin Leroy  <colin@colino.net>

	* patches/claws-mail-3.7.1/01-fix-spaces-after-re.patch,
	* patches/claws-mail-3.7.1/02-3.7.1cvs22.patch: Bugfixes to Claws.
	* include/config.nsi.in, src/uninst-bsfilter.nsi
	* src/inst-bsfilter.nsi, src/inst-bsfilter_plugin.nsi
	* src/Makefile.am, src/inst-sections.nsi
	* src/uninst-bsfilter_plugin.nsi, configure.ac
	* packages/packages.current: Add Bsfilter and Claws Mail's
	bsfilter plugin for bayesian anti-spam.
	* src/inst-libiconv.nsi, src/uninst-libiconv.nsi: Move iconv.dll
	to pub/ so that it's in the PATH (needed by bsfilter)

2009-03-06  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws Mail plugins

2009-03-06  Colin Leroy  <colin@colino.net>

	* patches/claws-mail-3.7.0/*: Removed
	* packages/packages.current: Update Claws Mail

2009-03-03  Colin Leroy  <colin@colino.net>

	* patches/claws-mail-3.7.0/07-bug_1865.patch: Fix filtering rules
	after renaming IMAP account.

2009-03-03  Werner Koch  <wk@g10code.com>

	Release 1.9.14.

	* packages/packages.current: Update GnuPG.

2009-03-02  Werner Koch  <wk@g10code.com>

	* patches/gnupg2/02-default-3des.patch: Remove.

2009-03-02  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* NEWS: Change compendium version.

2009-03-02  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* configure.ac: Change compendium date and version (de).

2009-03-02  Marc Mutz  <marc@kdab.net>

	* packages/packages.current: Update kdelibs, kleopatra.

2009-02-27  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra and kdelibs.

2009-02-27  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpgme.

2009-02-27  Werner Koch  <wk@g10code.com>

	* src/inst-gpa.nsi: Change logo name.

	* packages/packages.current: Update paperkey and GpgOL.

	* patches/gpgme/01-gpg2.patch:  Change directory name. 
	* patches/gpgme/02-kleo-bugs-workaround.patch: Ditto.

2009-02-25  Marcus Brinkmann  <marcus@g10code.de>

	* Makefile.am (EXTRA_DIST): Add patches/gpgex/01-no-checksums.patch.
	* patches/gpgex/01-no-checksums.patch: New file.

	* src/installer-finish.nsi (Section "Uninstall"): Also remove
	compendium html link from desktop.

	* src/installer-finish.nsi (Section "Uninstall"): Add RMDir
	instructions with REBOOTOK for some directories.

2009-02-19  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-sections.nsi: Set OUTDIR (and thus working directory
	for shortcuts) to %HOMEDRIVE%%HOMEPATH%.

2009-02-16  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-sections.nsi (calc_defaults_man_advanced_en_done): Make
	GPA an alternative to Kleopatra for GpgEX and GpgOL.

	* src/inst-sections.nsi: Install an uninstall entry into the start
	menu.
	* src/inst-finish.nsi: Add translation for uninstall entry.

2009-02-06  Marc Mutz <marc@kdab.net>

	* packages/packages.current: update kdelibs, kleopatra
	* src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi: adjust to new
	package layout, disable Kleopatra HTML handbook until we can built
	it in an automated fashion.

2009-02-06  Marc Mutz <marc@kdab.net>

	* configure.ac: Kleopatra is now a GPG4WIN_BPKG_BINSRC
	
2009-02-06  Marc Mutz <marc@kdab.net>

	* src/gpg4win.mk.in: Inject $(GPG4WIN_PARALLEL) for building
	individual packages. Try twice with it, once without, before
	finally failing. Speeds up builds on n-core machines, n>1.

2009-02-06  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra and kdelibs. Clear
	some whitespaces.

2009-02-04  Werner Koch  <wk@g10code.com>

	* patches/gnupg2/02-default-3des.patch: New.

2009-01-29  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-kdesupport.nsi, src/uninst-kdesupport.nsi: Be relaxed
	about dbus-daemon and dependencies.

2009-01-28  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gpgol and gpgex.

2009-01-26  Werner Koch  <wk@g10code.com>

	* configure.ac: Print an error message listing all duplicate packages.
	* m4/gpg4win.m4 (GPG4WIN_FIND): Do not bail out on duplicate
	packages.

2009-01-23  Werner Koch  <wk@g10code.com>

	* src/inst-paperkey.nsi, src/uninst-paperkey.nsi: New.
	* src/inst-sections.nsi: Install Paperkey.
	* include/config.nsi.in: Add Paperkey.
	* src/Makefile.am (EXTRA_DIST): Add paperkey.
	(gpg4win_pkg_paperkey_configure): New.
	(gpg4win_pkg_paperkey_post_install): New.
	* configure.ac: Add Paperkey.

2009-01-22  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update Libgcrypt.

2009-01-20  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* src/installer.nsi: Change german translation of
	MUI_LANGDLL_INFO.

2009-01-17  Colin Leroy  <colin@colino.net>

	* patches/claws-mail-3.7.0/06-bug_1825.patch
		Fix patch.

2009-01-17  Colin Leroy  <colin@colino.net>

	* patches/claws-mail-3.7.0/06-bug_1825.patch
		Fix opening IMAP mails in non-ascii folders.

2009-01-16  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gpgol.

2009-01-12  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gnupg and libksba.

2009-01-09  Colin Leroy  <colin@colino.net>

	* patches/claws-mail-3.7.0/01-bug_1810.patch:
		Fix crash when hitting 'o' (disabled Open With)
	* patches/claws-mail-3.7.0/02-bug_1813.patch:
		Fix themes installation
	* patches/claws-mail-3.7.0/03-bug_1814.patch:
		Workaround wrong window positioning when taskbar is on top
	* patches/claws-mail-3.7.0/04-bug_1815.patch:
		Fix Drag-n-drop to Compose window
	* patches/claws-mail-3.7.0/05-bug_1816.patch:
		Fix bogus --attach error message

2008-12-19  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws Mail to 3.7.0

2008-12-14  Colin Leroy  <colin@colino.net>

	* packages/packages.current, src/inst-claws-mail.nsi
	* src/uninst-claws-mail.nsi: Update Claws Mail, and install 
	ca-certificates.crt to be able to verify certificates

2008-12-13  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update GnuTLS and libtasn - CVE-2008-4989
	http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-4989

2008-12-12  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws Mail and plugins
	Fixes bug 184, 'Claws doesn't start when username contains Umlauts'

2008-12-09  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gnupg

2008-12-02  Werner Koch  <wk@g10code.com>

	Release 1.9.13.

2008-12-01  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* src/gpg4win.nsi, src/gpg4win-src.nsi: Change PRETTY_PACKAGE to 
	Gpg4win

2008-12-01  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra and kdelibs.

2008-11-28  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update GtkHtml Viewer plugin 
	("broken" image got referenced as the real image)

2008-11-27  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws-Mail (fixes, leak
	fixes), Notification plugin (workaround GTK bug in submenu),
	GtkHtml Viewer plugin (dangling pointer on image handling),
	RSSyl (threaded comments fix), AttachWarner (crasher, func-
	tional fix)

2008-11-20  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GnuPG.

2008-11-19  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws-Mail Vcalendar
	(replace broken tarball)

2008-11-18  Werner Koch  <wk@g10code.com>

	Release 1.9.12.

	* patches/gpgme-1.1.7/03-error-parsing.patch: New.
	* Makefile.am (EXTRA_DIST): Add patch.

2008-11-18  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws-Mail Vcalendar
	(fixes build)

2008-11-18  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws-Mail again (fix
	crash when browsing for attachments).

2008-11-18  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra and kdelibs.

2008-11-16  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws Mail.

2008-11-14  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GpgOL.

2008-11-12  Werner Koch  <wk@g10code.com>

	* configure.ac: Add option --enable-fast-makensis.
	* src/Makefile.am: Use EXTRA_MAKENSIS_FLAGS with makensis.
	* src/gpg4win.nsi: Make use of DISABLE_LZMA.

	* src/installer.nsi (MUI_LANGDLL_INFO): Uncomment the define.

2008-11-11  Werner Koch  <wk@g10code.com>

	Release 1.9.11.

	* packages/packages.current: Update GpgOL.

	* src/Makefile.am (gpg4win_pkg_gnupg2_post_install): Do not let a
	mkdir -p or rm fail.  Use mkdir_p and not MKDIR_P for automake
	compatibility.

2008-11-11  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra.and kdelibs.

2008-11-11  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update sha1sum of kleopatra.

2008-11-11  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gnupg.

	* src/Makefile.am: Use MKDIR_P and not mkinstalldirs.

2008-11-11  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update sha1sum of kleopatra and kdelibs.

2008-11-11  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra and kdelibs.

2008-11-11  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GnuPG and GpgOL.

	* src/Makefile.am (gpg4win_pkg_gnupg2_post_install): Adjust for
	changed mo file location.
	* src/inst-gnupg2.nsi: Ditto.
	* src/uninst-gnupg2.nsi: Ditto
	* src/uninst-gpg4win.nsi: Remove all local directories.

2008-11-10  Marcus Brinkmann  <marcus@g10code.com>

	* src/inst-gpa.nsi (DESC_Menu_Gpa): Remove winpt reference.

	* src/installer.nsi: Give German translation for language setup.
	Clarify string.

2008-11-08  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws Mail.

2008-11-05  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws Mail.

2008-11-05  Colin Leroy  <colin@colino.net>

	* src/inst-claws.nsi: Setting the Mail start menu item in
	HKCU confuses the Internet Options dialog. Do it in HKLM as
	this dialog does.

2008-11-05  Colin Leroy  <colin@colino.net>

	* src/inst-claws.nsi: Fix registration of Claws in the list
	of available clients
	* src/uninst-claws.nsi: Remove Claws from the list of 
	available clients

2008-11-04  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws Mail, libetpan
	and Claws mail plugins.
	* src/inst-claws.nsi: Add the ability to register as default
	email client.

2008-10-29  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra and kdelibs.

2008-10-29  Werner Koch  <wk@g10code.com>

	Release 1.9.9.

2008-10-28  Werner Koch  <wk@g10code.com>

	* src/inst-kleopatra.nsi: Move files around

	* README (Instructions): Update.

	* configure.ac: Make gnutls depend on libgcrypt.
	
	* src/Makefile.am (gpg4win_pkg_gnutls_configure): Add more prefix
	options.

2008-10-27  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra-bin.

2008-10-27  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra and kdelibs (without
	source).

2008-10-27  Werner Koch  <wk@g10code.com>

	* src/inst-sections.nsi: Install PDF versions of the compendium.
	* src/inst-compendium_de.nsi: Change the strings.
	* src/inst-man_novice_en.nsi: Ditto.

	* src/inst-kleopatra.nsi: Install kdeqt.mo.
	* src/uninst-kleopatra.nsi: Uninstall kdeqt.mo.

2008-10-24  Werner Koch  <wk@g10code.com>

	* src/Makefile.am (EXTRA_DIST): Remove inst-opencdk.nsi

2008-10-23  Marcus Brinkmann  <marcus@g10code.com>

	* src/Makefile.am (gpg4win_pkg_libgpg_error_post_install): New
	macro to convert PO files.

2008-10-23  Marcus Brinkmann  <marcus@g10code.de>

	* patches/claws-mail-3.1.0cvs70/01-w32-logo.patch,
	patches/claws-mail-3.1.0cvs70/02-w32-icon.patch,
	patches/claws-mail-3.1.0cvs70/03-smime-plugin.patch,
	patches/claws-mail-3.1.0cvs70/99-auto.patch,
	patches/claws-mail-3.4.0/01-w32-logo.patch,
	patches/claws-mail-3.4.0/02-w32-icon.patch,
	patches/claws-mail-3.4.0/03-smime-plugin.patch,
	patches/claws-mail-3.4.0/04-gnutls.patch,
	patches/claws-mail-3.4.0/99-auto.patch,
	patches/claws-mail-3.5.0cvs114/01-gtk-input-add.patch,
	patches/claws-mail-3.5.0cvs114/02-pgpcore.patch,
	patches/claws-mail-3.5.0cvs114/03-smime.patch,
	patches/claws-mail-3.5.0cvs114/99-auto.patch: Removed.
	* Makefile.am (EXTRA_DIST): Remove all these claws patches.

	* patches/gpgme-1.1.7/02-extern-umlaute.patch: New file.
	* Makefile.am (EXTRA_DIST): Add it here.

2008-10-23  Marcus Brinkmann  <marcus@g10code.com>

	* packages/packages.current: Update libtasn1, libgsasl, gnutls.
	Remove opencdk, which is now included in gnutls.
	* include/config.nsi.in: Remove opencdk support.
	* src/inst-sections.nsi: Likewise.
	* src/Makefile.in (gpg4win_spkgs, EXTRA_DIST): Remove opencdk.
	* src/inst-opencdk.nsi, src/uninst-opencdk.nsi: Removed.

2008-10-22  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* configure.ac: Change COMPENDIUM_DATE_DE for 
	compendium 3.0.0-beta1 release.

2008-10-21  Marcus Brinkmann  <marcus@g10code.com>

	* src/installer-finish.nsi (no_quick_launch_uninstall): Remove
	startup menu documentation directory.

2008-10-20  Marcus Brinkmann  <marcus@g10code.com>

	* Makefile.am (EXTRA_DIST): Add gpgme-1.1.7/01-registry.patch.

2008-10-20  Marcus Brinkmann  <marcus@g10code.com>

	* packages/packages.current: Fix gpgme location.

2008-10-17  Marcus Brinkmann  <marcus@g10code.com>

	* packages/packages.current: Update w32pth.

	* packages/packages.current: Update gpgme.

2008-10-07  Marcus Brinkmann  <marcus@g10code.com>

	Release 1.9.8-beta.

	* configure.ac: Make gnupg2 dependent on curl.
	* src/inst-sections.nsi (CalcDepends): Likewise.
	* packages/packages.current: Update dirmngr.
	* src/installer.nsi: Test for major upgrade.
	(T_FoundExistingOldVersion): New translatable string.
	* src/installer-finish.nsi (Uninstall): Clean up more registry
	keys.
	* src/installer.nsi (MUI_STARTMENUPAGE_REGISTRY_ROOT): Use HKLM
	instead of HKCU.
	* packages/packages.current: Update kleopatra.
	* src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi: Install
	handbook.

2008-10-07  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra

2008-10-07  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kdelibs, kleopatra, libxml2

2008-10-06  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update vCalendar 
	(GMT offsets fix)

2008-10-06  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update libetpan (gnutls fix),
	Claws Mail (gnutls fix, toolbar fix), 
	Attachwarner (translation fix),
	VCalendar (double-free crasher fix)

2008-10-04  Colin Leroy  <colin@colino.net>

	* configure.ac,
	* packages/packages.current,
	* include/config.nsi.in: Add Attachwarner plugin; fix a few
	typos
	* src/inst-attachwarner.nsi,
	* src/uninst-attachwarner.nsi,
	* src/inst-gtkhtml2_viewer.nsi,
	* src/uninst-gtkhtml2_viewer.nsi,
	* src/inst-notification_plugin,
	* src/uninst-notification_plugin,
	* src/inst-tnef_parse.nsi,
	* src/uninst-tnef_parse.nsi,
	* src/inst-rssyl.nsi,
	* src/uninst-rssyl.nsi,
	* src/inst-vcalendar.nsi,
	* src/uninst-vcalendar.nsi,
	* src/inst-claws-mail.nsi,
	* src/uninst-claws-mail.nsi,
	* src/inst-sections.nsi,
	* src/Makefile.am: Add Attachwarner plugin; add fr and de 
	translations where possible; fix a few typos.

2008-10-03  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws and its plugins
	(release 3.6.0)

2008-10-02  Colin Leroy  <colin@colino.net>

	* src/gpg4win.nsi: Fix build with manuals disabled.

2008-10-02  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update vcalendar (bugfix) and
	Claws Mail (crasher fix)

2008-10-01  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update vcalendar (bugfix)

2008-10-01  Colin Leroy  <colin@colino.net>

	* configure.ac, src/inst-sections.nsi: Add forgotten TNEF Parser 
	Claws plugin.

2008-10-01  Marcus Brinkmann  <marcus@g10code.com>

	* src/inst-sections.nsi (CalcDepends): Add claws extensions, and
	add some missing entries.  Reorder to mostly match the reverse
	order in configure.ac.
	* configure.ac: Clean up some dependencies and reorder some checks.

2008-09-30  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws.

2008-09-30  Colin Leroy  <colin@colino.net>

	* configure.ac,
	src/Makefile.am,
	include/config.nsi.in,
	src/inst-sections.nsi,
	packages/packages.current: Add TNEF Parser Claws plugin.
	* src/inst-tnef_parse.nsi, src/uninst-tnef_parse.nsi,
	New files for TNEF Parser.

2008-09-30  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws, vcalendar and rssyl.

2008-09-30  Werner Koch  <wk@g10code.com>

	* src/uninst-scute.nsi, src/inst-scute.nsi: Fix DLL name.  Always
	install Scute.

2008-09-29  Werner Koch  <wk@g10code.com>

	* patches/gnupg2/02-p12-hack.patch: Remove. 
	* patches/gnupg2/03-argv-quote-fix.patch: Remove. 

	* packages/packages.current: Update GnuPG.

2008-09-29  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update Claws and VCalendar (bugfixes).

2008-09-29  Marcus Brinkmann  <marcus@g10code.com>

	* src/uninst-cairo.nsi, src/uninst-pthreads-w32.nsi: Remove
	$INSTDIR.

2008-09-28  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update RSSyl Claws plugin.

2008-09-28  Colin Leroy  <colin@colino.net>

	* configure.ac,
	src/Makefile.am,
	include/config.nsi.in,
	src/inst-sections.nsi,
	packages/packages.current: Add RSSyl Claws plugin.
	* src/inst-rssyl.nsi, src/uninst-rssyl.nsi,
	New files for RSSyl.

2008-09-27  Colin Leroy  <colin@colino.net>

	* configure.ac,
	src/Makefile.am,
	include/config.nsi.in,
	src/inst-sections.nsi,
	packages/packages.current: Add libxml2 for Claws plugins.
	* src/inst-libxml2.nsi, src/uninst-libxml2.nsi,
	New files for libxml2.

2008-09-27  Colin Leroy  <colin@colino.net>

	* packages/packages.current: Update claws (fixes its build).

2008-09-27  Colin Leroy  <colin@colino.net>

	* configure.ac,
	src/Makefile.am,
	include/config.nsi.in,
	src/gpg4win.nsi,
	src/inst-sections.nsi,
	packages/packages.current: Add Curl, Claws plugins Gtkhtml,
	Vcalendar and Notification.
	* src/inst-curl.nsi, src/uninst-curl.nsi,
	src/inst-gtkhtml2_viewer.nsi, src/uninst-gtkhtml2_viewer.nsi,
	src/inst-vcalendar.nsi, src/uninst-vcalendar.nsi,
	src/inst-notifiation_plugin.nsi, src/uninst-notification_plugin.nsi:
	New files for these new packages

2008-09-25  Colin Leroy  <colin@colino.net>

	* src/Makefile.am (gpg4win_pkg_claws_mail_configure): Add
	--disable-dbus.  No more patches!
	* packages/packages.current: Update claws and change claws
	and libetpan's sources.

2008-09-22  Marcus Brinkmann  <marcus@g10code.com>

	* src/Makefile.am (gpg4win_pkg_claws_mail_configure): Add
	--disable-enchant.

2008-09-22  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update libksba.
	* THANKS:  Update.
	
2008-09-19  Marcus Brinkmann  <marcus@g10code.com>

	* configure.ac: Add gnutls as dependency for libetpan.
	* src/Makefile.am (gpg4win_pkg_libetpan_configure): Add --with-gnutls.
	Submitted by Colin Leroy.
	* packages/packages.current: Update claws and libetpan.
	* THANKS: New file.
	* Makefile.am (EXTRA_DIST): Add ...
	* patches/claws-mail-3.5.0cvs114/01-gtk-input-add.patch,
	patches/claws-mail-3.5.0cvs114/02-pgpcore.patch,
	patches/claws-mail-3.5.0cvs114/03-smime.patch,
	patches/claws-mail-3.5.0cvs114/99-auto.patch: ... these new files.

2008-09-18  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update libgcrypt.

2008-09-09  Werner Koch  <wk@g10code.com>

	Release 1.9.7-beta.

	* src/inst-sections.nsi: Remove the links to the GnuPG FAQ.

	* src/inst-oxygen-icons.nsi: Add more icons.
	* src/uninst-oxygen-icons.nsi: Use wildcards to delete icons.
	Delete 22x22 and 64x64 icons.

	* patches/gnupg2/03-argv-quote-fix.patch: New. 
	* Makefile.am (EXTRA_DIST): Add it.

	* packages/packages.current: Update GPA and GpgEx.

2008-09-09  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra.

2008-09-08  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra.

2008-09-05  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kdelibs and kleopatra.

2008-09-03  Marcus Brinkmann  <marcus@g10code.com>

	* include/config.nsi.in: Add scute support.
	* src/inst-sections.nsi: Likewise.
	* src/inst-scute.nsi, src/uninst-scute.nsi: New files.
	* src/Makefile.am (gpg4win_pkg_scute_configure): New variable.
	(EXTRA_DIST): Add inst-scute.nsi and uninst-scute.nsi.
	(gpg4win_spkgs): Add scute.
	* configure.ac: Add scute.
	* Makefile.am (EXTRA_DIST): Add patches/scute-1.2.0/01-bugfixes.patch.
	* patches/scute-1.2.0/01-bugfixes.patch: New file.

2008-09-03  Werner Koch  <wk@g10code.com>

	* configure.ac: Remove man_novice_de and man_advanced_de.  Add
	compendium_de.

	* src/gpg4win.nsi: Do not include it in the light installer.
	* src/uninst-compendium_de.nsi: New.
	* src/inst-compendium_de.nsi: New.
	* src/inst-sections.nsi: Include them.
	* src/installer-finish.nsi: Ditto.

2008-09-02  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kdelibs, kdesupport and kleopatra.

2008-08-28  Werner Koch  <wk@g10code.com>

	* src/gpg4win.nsi: Include gpgex in the light build.

2008-08-19  Jan-Oliver Wagner  <jan-oliver.wagner@intevation.de>

	* configure.ac: Added COMPENDIUM_VERSION_DE and COMPENDIUM_DATE_DE
	for the new compendium document, also turning to version
	3.0.0-beta for the compendium documentation as it is the third
	generation.

2008-08-11  Werner Koch  <wk@g10code.com>

	Released 1.9.6-beta.

	* src/inst-sections.nsi: Fix last change.

	* packages/packages.current: Update kleopatra source package.

2008-08-11  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kleopatra.

2008-08-11  Marcus Brinkmann  <marcus@g10code.com>

	* src/inst-sections.nsi: Fix order to be more presentable.

2008-08-11  Werner Koch  <wk@g10code.com>

	* src/uninst-gnupg2.nsi: Do not run gpg-connect-agent unless all
	required DLLs are still installed.

2008-08-11  Marcus Brinkmann  <marcus@g10code.com>

	* src/inst-sections.nsi: Reorder installation and uninstallation
	sections.

2008-08-11  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Add Kleopatra icons for start menu,
	desktop, quicklaunch shortcuts

2008-08-08  Emanuel Schuetze  <emanuel.schuetze@intevation.de>

	* packages/packages.current: Update kdelibs and kleopatra.

2008-08-08  Marcus Brinkmann  <mb@g10code.com>

	* packages/packages.current: Update gnupg2.

2008-08-06  Marcus Brinkmann  <mb@10code.com>

	* packages/packages.current: Update dirmngr and gnupg2.

2008-08-06  Werner Koch  <wk@g10code.com>

	* src/inst-gpgol.nsi: Install form files.
	* src/uninst-gpgol.nsi: Unintsall form files.

	* packages/packages.current: Update GpgOL.

2008-08-05  Marcus Brinkmann  <marcus@ulysses.g10code.com>

	* packages/packages.current: Update kdelibs and kleopatra.

2008-08-04  Marcus Brinkmann  <marcus@ulysses.g10code.com>

	* configure.ac: Post-release fixup.

2008-08-01  Marcus Brinkmann  <marcus@g10code.de>

	* src/pkg-config: Return exit code of pkg-config.

2008-07-31  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update dirmngr.

2008-07-22  Marcus Brinkmann  <marcus@ulysses.g10code.com>

	* src/uninst-gpgme.nsi: Fix typo.

2008-07-21  Marcus Brinkmann  <marcus@g10code.de>

	Release 1.9.2 beta version.

2008-07-19  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update kdelibs.

2008-07-14  Werner Koch  <wk@g10code.com>

	* src/uninst-gpgme.nsi: Uninstall gpgme-w32spawn.exe and not .dll.

2008-07-14  Werner Koch  <wk@g10code.com>

	* NEWS: Track released version (after the release of 1.9.4).

2008-07-08  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Bump version to 1.9.4.
	* Makefile.am (EXTRA_DIST): Add
	patches/gpgme/02-kleo-bugs-workaround.patch.
	* patches/gpgme/02-kleo-bugs-workaround.patch: New file.

	* src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi: Update.
	* packages/packages.current: Update kdelibs and kleopatra.
	* configure.ac: Make kleopatra a GNUWIN32 package to catch the
	german translations.

2008-07-04  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gpgme.

2008-06-27  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gnupg and dirmngr.

2008-06-26  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gpa, gpgol, gpgme, kdelibs and
	kleopatra.

2008-06-25  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpgme.
	* src/inst-gpgme.nsi: Install gpgme-w32spawn.exe.
	* src/uninst-gpgme.nsi: Uninstall it.

2008-06-19  Werner Koch  <wk@g10code.com>

	* src/inst-gnupg2.nsi: Rename the section to just gnupg.
	* src/uninst-gnupg2.nsi: Ditto.

2008-06-16  Werner Koch  <wk@g10code.com>

	* src/inst-gnupg2.nsi: Move installation of gpgconf-conf.skel to
	COMMON_APPDATA. Try to stop gpg-agent first.
	* src/inst-dirmngr.nsi: Likewise.
	* src/uninst-gnupg2.nsi: Try to stop a running gpg-agent first.

2008-06-05  Werner Koch  <wk@g10code.com>

	* src/uninst-libetpan.nsi: Remove libetpan-13.
	* src/uninst-kleopatra.nsi: Remove kwatchgnupg dirs.
	* src/uninst-qt.nsi: Remove two resource dlls.
	* src/uninst-gtk+.nsi: Remove foo-properties.mo.

	* packages/packages.current: Remove GnuPG-1.  Remove WinPT.
	* configure.ac: Remove gnupg and replace by gnupg2.  Remove GPGee.
	* include/config.nsi.in: Remove GnuPG.
	* src/inst-gnupg2.nsi: Update to fully replace gnupg1.
	* src/inst-gnupg.nsi: Remove.  Move some common code to ...
	* src/inst-gpg4win.nsi: .. here.
	* src/uninst-gnupg.nsi: Remove. Move some common code to ..
	* src/uninst-gpg4win.nsi: .. here.
	* src/inst-sections.nsi: Remove inst-gnupg.nsi and uninst-gnupg.nsi.
	* src/Makefile.am: Ditto.
	(gpg4win_pkg_gnupg_post_install): Remove.
	(gpg4win_pkg_gnupg2_post_install): Convert man pages.
	(gpg4win_pkg_gnupg2_configure): Add --with-bzip2. 

	* src/Makefile.am (gpgwrap-2.exe): New.
	* src/gpgwrap.c (main): Support variant 2 of that program.

2008-05-28  Werner Koch  <wk@g10code.com>

	Release 1.9.2 beta version.

	* src/inst-kleopatra.nsi: Update description in installer.

	* src/inst-kdelibs.nsi: Install kbuildsycoca4 into bin/.
	* src/uninst-kdelibs.nsi: Uninstall it.
	* src/kleowrap.c (run_kbuildsycoca): Execute kbuildsycoca4 via bin/.

	* patches/gpa/01-no-uiserver.patch: Remove.

	* patches/gpgol/01-last-minute.patch: Remove.

	* packages/packages.current: Update gpgol, gpa and kleopatra.

2008-05-27  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update kdelibs packages.

2008-05-27  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gnupg2, dirmngr, oxygen-icons,
	qt, kdesupport, kdelibs, and kleopatra.
	* src/inst-kdelibs.nsi, src/uninst-kdelibs.nsi,
	src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi, src/inst-qt.nsi,
	src/uninst-qt.nsi, src/inst-oxygen-icons.nsi,
	src/uninst-oxygen-icons.nsi: Update.

2008-05-25  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update libassuan.

2008-05-21  Marcus Brinkmann  <marcus@ulysses.g10code.com>

	* patches/gnupg2/02-p12-hack.patch: New file.
	* Makefile.am (EXTRA_DIST): Add this patch.

2008-05-13  Marcus Brinkmann  <marcus@ulysses.g10code.com>

	Release 1.9.1 beta version.

	* packages/packages.current: Update kdelibs and kleopatra.
	* src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi: Install and
	remove libkleopatraclientcore.dll.

2008-05-09  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gpgme and gnupg2.

	* src/inst-gnupg2.nsi: Add gpg2keys_knds.

2008-05-08  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update adns.

	* configure.ac: Don't let gpgme depend on qt.

	* src/inst-gpa.nsi: Mape tips installation optional.

	* src/Makefile.am (gpg4win_pkg_gnupg2_configure): Add --with-adns.
	(gpg4win_pkg_gpgme_configure): Build qt and glib versions only if
	the packages are available.

2008-05-08  Marcus Brinkmann  <marcus@ulysses.g10code.com>

	* Makefile.am (EXTRA_DIST): Add
	patches/claws-mail-3.4.0/04-gnutls.patch.

	* packages/packages.current: Update kleopatra checksum.

2008-05-07  Marcus Brinkmann  <marcus@ulysses.g10code.com>

	* packages/packages.current: Update kleopatra and kdelibs.
	* src/inst-kleopatra.nsi: Add kwatchgnupg.
	* src/uninst-kleopatra.nsi: Remove kwatchgnupg.

2008-05-07  Werner Koch  <wk@g10code.com>

	* patches/gpgol/01-last-minute.patch: New.

2008-05-06  Werner Koch  <wk@g10code.com>

	* patches/gpgol/01-always-decrypt.patch: Remove.
	* packages/packages.current: Update gpgme and gpgol.

2008-04-30  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Add adns.
	* configure.ac: Add support for adns.
	* src/uninst-libadns.nsi, src/inst-libadns.nsi: New.
	* include/config.nsi.in, src/Makefile.am, src/inst-sections.nsi:
	Add adns.

2008-04-28  Marcus Brinkmann  <marcus@ulysses.g10code.com>

	* packages/packages.current: Update kdelibs and kleopatra.
	* src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi: Update.

2008-04-25  Marcus Brinkmann  <marcus@ulysses.g10code.com>

	* packages/packages.current: Add libgsasl, libtasn1, opencdk,
	gnutls.
	* configure.ac: Add support for libgsasl, libtasn1, opencdk and
	gnutls source packages.
	* include/config.nsi.in: Likewise.
	* inst-libgsasl.nsi, uninst-libgsasl.nsi, inst-libtasn1.nsi,
	uninst-libtasn1.nsi, inst-opencdk.nsi, uninst-opencdk.nsi,
	inst-gnutls.nsi, uninst-gnutls.nsi: New files.
	* src/Makefile.am (EXTRA_DIST): Add these files.
	(gpg4win_spkgs): Add libgsasl, libtasn1, opencdk, gnutls.
	(gpg4win_pkg_gnutls_configure): New variable.
	(gpg4win_pkg_claws_configure): Enable pthread and gnutls.
	* patches/claws-mail-3.4.0/04-gnutls.patch: New file.

	* packages/packages.current: Update libetpan and claws-mail.
	* src/inst-libetpan.nsi: Update to latest version.
	* src/Makefile.am (gpg4win_pkg_claws_mail_configure): Add
	--disable-network-manager-support.
	* configure.ac: Remove support or sylpheed-claws (replaced by
	claws-mail).
	* Makefile.am (EXTRA_DIST): Remove all sylpheed-claws patches and
	add the claws-mail-3.4.0 patches.  Add libetpan-0.54 patches.
	* include/config.nsi.in: Remove support for sylpheed.
	* src/Makefile.am: Likewise.
	* src/inst-sections.nsi: Likewise.
	* src/inst-sylpheed-claws.nsi, src/uninst-sylpheed-claws.nsi:
	Removed.

s2008-04-23  Werner Koch  <wk@g10code.com>

	Release 1.9.0 beta version.

	* src/Makefile.am (EXTRA_DIST): Add Memento.nsh and dirmngr.conf.

	* patches/gpa/01-no-uiserver.patch: New.

	* autogen.sh <build-w32>: Pass --enable-maintainer-mode.

	* patches/gnupg2/01-version.patch.in: New.
	* configure.ac (AC_CONFIG_FILES): Patch the version of GnuPG.
	(AC_CONFIG_COMMANDS): New.

2008-04-22  Marcus Brinkmann  <marcus@ulysses.g10code.com>

	* packages/packages.current: Update gpgme.

	* packages/packages.current: Update kdelibs and kleopatra.

2008-04-22  Werner Koch  <wk@g10code.com>

	* src/installer.nsi (PrintBetaWarning): New.
	(PrintNonAdminWarning): Call it.

2008-04-21  Werner Koch  <wk@g10code.com>

	* patches/gnupg2-2.0.9/05-w32-http.patch: New.
	* patches/gnupg2-2.0.9/04-ks-w32init.patch: New.
	* Makefile.am (EXTRA_DIST): Add new patches.  Correct name of
	gpgol/01-always-encrypt.patch.
	
2008-04-18  Werner Koch  <wk@g10code.com>

	* patches/gpgol/01-always-encrypt.patch: New.

2008-04-16  Werner Koch  <wk@g10code.com>

	* src/inst-winpt.nsi: Do not select by default.

2008-04-08  Werner Koch  <wk@g10code.com>

	* patches/gnupg2-2.0.9/03-i18n+etc.patch: New.
	* patches/gnupg2-2.0.9/02-de.po-fix: Update.

2008-04-02  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GpgOL.
	
	* patches/gnupg2-2.0.9/02-de.po-fix.patch: New.

2008-04-01  Werner Koch  <wk@g10code.com>

	* configure.ac (AC_INIT): Fix quoting.

	* patches/gnupg2-2.0.9/01-close-all-handle.patch: New.

2008-04-01  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update kdelibs and kleopatra.

2008-03-26  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GnuPG-1 to 1.4.9.

2008-03-26  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpgex to 0.9.0.
	* src/inst-gpgex.nsi, src/uninst-gpgex.nsi: Handle translations
	ar, es and ru.

2008-03-26  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update to GnuPG 2.0.9.
	* Makefile.am (EXTRA_DIST): Remove gnupg-2.0.8 patches.

	* src/inst-gnupg2.nsi: Install the help files.
	* src/uninst-gnupg2.nsi: Remove them.
	* src/inst-gnupg.nsi: Now delete the Lang Registry entry becuase
	GnuPG 2.0.9 does not need it anymore.

2008-03-25  Werner Koch  <wk@g10code.com>

	* src/inst-gnupg.nsi: Write the language code for use by gettext
	into the Registry.

2008-03-25  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update libassuan.

2008-03-25  Werner Koch  <wk@g10code.com>

	* src/inst-dirmngr.nsi: Create empty extra-certs directory.
	* src/uninst-dirmngr.nsi: Delete it.

2008-03-25  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update w32pth.

2008-03-21  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update w32pth and libassuan.

	* packages/packages.current: Update gpa, libassuan, w32pth, gpa,
	kleopatra.

2008-03-20  Werner Koch  <wk@g10code.com>

	* src/potomo: New.
	* src/Makefile.am (gpg4win_pkg_gnupg_post_install): Remove mo file
	creation.
	(gpg4win_pkg_gnupgw_post_install): Convert po files.
	(EXTRA_DIST): Include potomo.
	* src/inst-gnupg2.nsi: Install all available mo files.
	* src/inst-gnupg2.nsi: Do not install com-certs.pem.

2008-03-19  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GpgOL.

2008-03-18  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update kleopatra and kdelibs.

	* src/make-msi.pl (lang_to_lcid): Support more languages.
	(gpg4win_nsis_stubs): Likewise.
	* make-msi.guids: Updated.

2008-03-18  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GpgOL.

2008-03-17  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update kleopatra and kdelibs.

2008-03-12  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-atk.nsi: Install message catalogs for ar, es, fr and ru.
	* src/inst-glib.nsi: Likewise.
	* src/inst-gtk+.nsi: Likewise.  Also install gtk20-properties.mo.
	* src/uninst-atk.nsi: Uninstall them.
	* src/uninst-glib.nsi: Likewise.
	* src/uninst-gtk+.nsi: Likewise.

2008-03-11  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg4win.nsi: Add gpg2 and its buddies to the light installer.

2008-03-11  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GpgOL.

2008-03-10  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpa.
	* src/inst-gpa.nsi: Install other languages AR, ES, FR and RU.
	* src/uninst-gpa.nsi: Deinstall those languages.

	* AUTHORS: Add translators.
	* src/inst-sections.nsi (.onInit): Insert macro MUI_LANGDLL_DISPLAY.
	[DEBUG]: Define MUI_LANGDLL_ALWAYSSHOW.
	(un.onInit): New function.
	* src/installer.nsi: Include ../po/catalogs.nsi with PO_HEADER
	defined to include MUI language files.  Insert macro
	MUI_RESERVEFILE_LANGDLL.
	(MUI_LANGDLL_REGISTRY_ROOT, MUI_LANGDLL_REGISTRY_KEY)
	(MUI_LANGDLL_REGISTRY_VALUENAME): New symbols.
	(MUI_LANGDLL_ALLLANGUAGES) [DEBUG]: New symbol.

2008-03-10  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GpgOL.

2008-03-07  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GpgOL.

2008-03-05  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update kdelibs and kleopatra.

2008-02-28  Marcus Brinkmann  <marcus@g10code.de>

	* src/kleowrap.c: Use CreateProcess instead of spawn for ksycoca
	to suppress console window.

2008-02-27  Marcus Brinkmann  <marcus@g10code.de>

	* src/kleowrap.c: Include errno.h.
	(run_kbuildsycoca): New function by Frank Osterfeld.
	(main): Invoke it.

	* src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi: Move plugins
	to INSTDIR.
	* src/inst-kdelibs.nsi, src/uninst-kdelibs.nsi: Likewise.

2008-02-26  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi: Fix last change.

	* packages/packages.current: Update gpgol, kdelibs, kleopatra.
	* src/inst-kdelibs.nsi, src/uninst-kdelibs.nsi,
	src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi: Update.

	* patches/winpt/01-gpg-path.patch: New file.
	* Makefile.am (EXTRA_DIST): Add this file.

2008-02-19  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpgex.

	* src/kleowrap.c: Change working directory.

	* src/kleowrap.c: New file.
	* src/kleopatra.bat: Removed.
	* src/Makefile.am (EXTRA_DIST): Remove kleopatra.bat, add
	kleowrap.c.
	(CLEANFILES): Add kleowrap.exe.
	(gpg4win-$(VERSION).exe, gpg4win-light-$(VERSION).exe,
	(gpg4win-$(VERSION).wix, gpg4win-light-$(VERSION).wix): Add
	kleowrap.exe as dependency.
	(gpgwrap.exe): Use make magic.
	(kleowrap.exe): New target.
	* src/inst-kleopatra.nsi: Install kleowrap.exe as kleopatra.exe,
	and do not install kleopatra.bat.
	* src/uninst-kleopatra.nsi: Uninstall kleopatra.exe instead of
	kleopatra.bat.
	* src/inst-sections.nsi (no_desktop): Replace kleopatra.bat by
	kleopatra.exe.

2008-02-18  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update kdelibs and kleopatra.

2008-02-18  Werner Koch  <wk@g10code.com>

	* src/installer.nsi: Take the README file from share/gpg4win.
	This is required because we now make sure that the last output
	directory is now the top directory.

	* packages/packages.current: Update GpgOL.

2008-02-16  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Undo update of kdelibs and kleopatra.

	* packages/packages.current: Update dirmngr, gpgme, gpa, gnupg,
	w32pth, kdelibs, and kleopatra.

2008-02-15  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update pinentry, gnupg and gpgme.

2008-02-12  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update libksba.

2008-02-09  Marcus Brinkmann  <marcus@g10code.de>

	* patches/gnupg-1.4.8/01-gpgconf-list.patch: New file.
	* patches/gnupg2-2.0.8/06-gpgconf-list.patch: New file.
	* Makefile.am (EXTRA_DIST): Add these.

2008-02-08  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update kleopatra.
	* src/inst-kdelibs.nsi: Move kcmdwrapper.exe to bin.
	* src/uninst-kdelibs.nsi: Uninstall it there.

2008-02-06  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update GpgOL.

2008-02-04  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update kleopatra and gpgex.

2008-02-01  Marcus Brinkmann  <marcus@g10code.de>

	* patches/gnupg2-2.0.8/05-gpgconf.patch: New file.
	* Makefile.am (EXTRA_DIST): Add patch.

2008-01-30  Werner Koch  <wk@g10code.com>

	* src/inst-final.nsi: New.
	* src/Makefile.am (EXTRA_DIST): Add it.
	* src/inst-gnupg2.nsi: Remove last fix due to the final section.

2008-01-30  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg4win.nsi: Fix last change.
	* src/gpg4win-src.nsi: Dito.

	* src/gpg4win.nsi (ABOUT_STR): Split up the string into several.
	(T_AboutGpg4win): Shorten it accordingly.
	(T_AboutGpg4winVersion, T_AboutGpg4winFileVersion)
	(T_AboutGpg4winReleaseDate): New translation strings.
	* src/gpg4win-src.nsi: Split up the string into several.
	(T_AboutGpg4winSrc): Shorten it accordingly.
	(T_AboutGpg4winSrcVersion, T_AboutGpg4winSrcFileVersion)
	(T_AboutGpg4winSrcReleaseDate): New translation strings.
	* src/installer.nsi: Quote welcome title and about string.
	* po/de.po: Update.

	* packages/packages.current: Update gpgme.

2008-01-30  Werner Koch  <wk@g10code.com>

	* src/inst-sections.nsi: Install GTK+ of gnupg2 is selected.

	* src/inst-gnupg2.nsi: Switch Outpath back to standard.

	* patches/gnupg2-2.0.8/patches/03-create-keyring.patch: Also do it
	for the trustdb.

2008-01-29  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Updated GpgOL.

	* patches/gnupg2-2.0.8/04-import-export-spawn.patch: New file
	* patches/gnupg2-2.0.8/03-create-keyring.patch: New file. 
	* Makefile.am (EXTRA_DIST): Add new files.

2008-01-29  Marcus Brinkmann  <marcus@g10code.de>

	* src/make-msi.pl (nsis_parse_line): Skip including the file
	Memento.nsh.

2008-01-28  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpgme and kleopatra.

2008-01-25  Marcus Brinkmann  <marcus@g10code.de>

	* Makefile.am (EXTRA_DIST): Add
	patches/gnupg2-2.0.8/02-qualified.patch.
	* patches/gnupg2-2.0.8/02-qualified.patch: New file.

2008-01-24  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-gpgee.nsi: Fix last change.

	* src/Memento.nsh: New file from nsis 2.28.

2008-01-21  Marcus Brinkmann  <marcus@g10code.de>

	* src/installer.nsi: Include Memento.nsh, define
	MEMENTO_REGISTRY_ROOT and MEMENTO_REGISTRY_KEY.
	* src/inst-sections.nsi: Call MementoSectionDone.
	(onInit): Call MementoSectionRestore.
	(onInstSuccess): Call MementoSectionSave.
	* src/inst-claws-mail.nsi, src/inst-eudoragpg.nsi,
	src/inst-gnupg.nsi, src/inst-gnupg2.nsi, src/inst-gpa.nsi,
	src/inst-gpgee.nsi, src/inst-gpgex.nsi, src/inst-gpgol.nsi,
	src/inst-kleopatra.nsi, src/inst-man_advanced_de.nsi,
	src/inst-man_advanced_en.nsi, src/inst-man_novice_de.nsi,
	src/inst-man_novice_en.nsi, src/inst-sylpheed-claws.nsi,
	src/inst-winpt.nsi: Replace Section/SectionEnd by Memento macro
	calls.
	* src/make-msi.pl (gpg4win_nsis_stubs): Support memento sections.

2008-01-18  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpgol.
	* src/Makefile.am (gpg4win_pkg_gpgol_post_install): New macro.
	* src/inst-gpgol.nsi: Install the gpgol.pdf technical
	documentation.
	* src/uninst-gpgol.nsi: Uninstall it (and many directories).

	* packages/packages.current: Update kleopatra and kdelibs.

2008-01-16  Marcus Brinkmann  <marcus@g10code.de>

	* src/installer.nsi (MUI_WELCOME_TITLE, MUI_WELCOMEPAGE_TEXT):
	Define to ${WELCOME_TITLE_STR} and ${ABOUT_STR} respectively.
	(T_WelcomeTitle, T_About): Remove language strings.
	* src/gpg4win.nsi (WELCOME_TITLE_ENGLISH, WELCOME_TITLE_GERMAN)
	(ABOUT_GERMAN, ABOUT_ENGLISH): Removed macros.
	(WELCOME_TITLE_STR, ABOUT_STR): New macros.
	(T_WelcomeTitleGpg4win, T_AboutGpg4win): New language strings.
	* src/gpg4win-src.nsi (WELCOME_TITLE_ENGLISH, WELCOME_TITLE_GERMAN)
	(ABOUT_GERMAN, ABOUT_ENGLISH): Removed macros.
	(WELCOME_TITLE_STR, ABOUT_STR): New macros.
	(T_WelcomeTitleGpg4winSrc, T_AboutGpg4winSrc): New language strings.

2008-01-15  Marcus Brinkmann  <marcus@g10code.de>

	* patches/gnupg-2.0.8/01-agent-call-pinentry.patch: Rename to ...
	* patches/gnupg2-2.0.8/01-agent-call-pinentry.patch: ... this.
	* Makefile.am (EXTRA_DIST): Also here.

	* Makefile.am (EXTRA_DIST): Add
	patches/gnupg-2.0.8/01-agent-call-pinentry.patch.
	* patches/gnupg-2.0.8/01-agent-call-pinentry.patch: New file.

	* src/g4wihelp.c (service_create): Use LocalSystem for now.

2008-01-13  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update kdelibs, kdesupport, kleopatra.

	* src/inst-kdelibs.nsi: Update to latest version.
	* src/inst-kdesupport.nsi: Update to latest version.
	* src/uninst-kdesupport.nsi: Update to latest version.
	* src/inst-kleopatra.nsi: Update to latest version.

	* src/inst-gnupg2.nsi: Fix last change.
	* src/uninst-gnupg2.nsi: Uninstall gpgconf-conf.skel.

	* src/uninst-qt.nsi: Uninstall qsqlited4.dll.

2008-01-10  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg4win.nsi: New variable bpdir.
	* src/gpg4win-src.nsi: Likewise.
	* src/inst-gnupg2.nsi: New variable source and install a skeleton
	file for gpgconf.conf.

2008-01-08  Marcus Brinkmann  <marcus@g10code.de>

	* src/pkg-to-nsi.pl: New file.

	* src/inst-kleopatra.nsi: Add missing files.
	* src/uninst-kleopatra.nsi: Likewise.

2008-01-07  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update to 0.0.0-svn46.

2008-01-04  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi,
	src/inst-oxygen-icons.nsi: Update to new version.
	* packages/packages.current: Update oxygen-icons and kleopatra.

	* packages/packages.current: Update gpgme to 1.1.6.

	* patches/gpgme/01-gpg2.patch: Update patch.

2008-01-03  Werner Koch  <wk@g10code.com>

	* src/inst-gnupg.nsi: Do not set gpgProgram but delete it.

	* patches/gpgme/01-gpg2.patch: New.
	* Makefile.am (EXTRA_DIST): Add it.

	* src/gpg4win.mk.in (SETVARS): Add new var PKGPBDIR.
	(SPKG_template) <stamps/stamp-$(1)-01-patch>: Allow for patches
	without the version name of the package.
	(MPKG_template) <stamps/stamp-$(1)-01-patch>: Ditto.

	* packages/packages.current: Fix pinentry name.  Use gpgol svn 205.
	Update to gnupg 1.48 and 2.0.8.

2008-01-02  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update pinentry to 0.7.5-cvs.

	* src/pkg-config (PREFIX): Suppress debug output.

	* src/Makefile.am (gpg4win_pkg_glib_post_install): Since we build
	the package from source, we need to fix up the pkg-config files in
	the runtime package directory.

2007-12-21  Marcus Brinkmann  <marcus@g10code.de>

	* src/uninst-kleopatra.nsi, src/inst-kleopatra.nsi: Update to
	latest version.

	* packages/packages.current: Update oxygen-icons and kleopatra.
	* src/inst-oxygen-icons.nsi, src/uninst-oxygen-icons.nsi: Update
	to latest version, but only install 16x16 icons (now all of them).

2007-12-18  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update kleopatra to 20071214-3.
	* src/inst-kleopatra.nsi: Adjust path to GPGME libraries.

2007-12-14  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update to gnupg-2.0.8rc1.

2007-12-14  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Fix last change.

2007-12-13  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update libassuan.

2007-12-11  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update to qt 4.3.3.
	* src/inst-qt.nsi, src/uninst-qt.nsi: Update to qt 4.3.3.

	* src/inst-sections.nsi: Delete old start menu, desktop and
	quicklaunch links.

2007-12-10  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update libgcrypt.

2007-12-09  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update libetpan.

	* packages/packages.current: Update claws-mail.

	* src/Makefile.am (gpg4win_pkg_claws_mail_configure): Enable
	libetpan.
	* src/inst-sections.nsi: Include libetpan install scripts.
	* patches/claws-mail-3.1.0cvs70/01-w32-logo.patch,
	patches/claws-mail-3.1.0cvs70/02-w32-icon.patch,
	patches/claws-mail-3.1.0cvs70/03-smime-plugin.patch,
	patches/claws-mail-3.1.0cvs70/99-auto.patch: New files.
	* Makefile.am (EXTRA_DIST): Add claws-mail 3.1.0cvs70 patches.

2007-12-07  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-sections.nsi: Install manuals in subdirectories for
	start menu and desktop.
	* src/installer-finish.nsi: Uninstall the manuals in those
	subdirectories.
	* src/installer.nsi: Add language strings for the subdirectory
	names.
	* po/de.po: Update.

	* packages/packages.current: Update kleopatra to 20071207.

	* src/inst-gpgex.nsi: Detect and uninstall a previously installed
	GPGee.

2007-12-03  Marcus Brinkmann  <marcus@g10code.de>

	* src/make-msi.pl (dump_all2): Hard code level for hidden packages
	to 1.

2007-11-30  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpgex.

2007-11-29  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update pinentry.
	* configure.ac: Merge duplicated pinentry entries.
	Make gnupg2 dependent on pinentry.

2007-11-27  Marcus Brinkmann  <marcus@g10code.de>

	* src/dirmngr.conf: New file.
	* src/inst-dirmngr.nsi: Install our version of dirmngr.conf.
	Remove /nonfatal from configuration files.

2007-11-27  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update gnupg.

2007-11-27  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update kleopatra.

2007-11-26  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update dirmngr and gpgex.

	* src/inst-dirmngr.nsi: No longer create the cache directory.
	* src/inst-sections.pl: Correct upper/lowercase of WinPT link (for
	the msi converter).
	* src/make-msi.pl: Improve handling of shortcuts.
	* src/make-msi.guids: Update.
	* src/make-msi.bat: Remove duplicate entries.

2007-11-26  Werner Koch  <wk@g10code.com>

	* src/inst-kleopatra.nsi: Install libkmime.dll.  Take libkleo from
	bin/.
	* src/uninst-kleopatra.nsi: Uninstall libkmime.dll.

2007-11-26  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-dirmngr.nsi: No longer create the cache directory.

	* src/make-msi.pl: 

	* packages/packages.current: Fix entry for kdelibs source.

	* src/make-msi.pl (dump_all): Start dirmngr service.
	* src/README-msi.txt: Add todo items.

	* src/Makefile.am (msi, gpg4win-$(VERSION).wix,
	(gpg4win-light-$(VERSION).wix): New targets.
	* src/make-msi.pl: Rewritten.
	* src/make-msi.guids: Include missing files.
	* src/inst-gpg4win.nsi: Give section an identifier.
	* src/README-msi.txt: Update.
	* src/gpg4win.nsi: Do not include pinentry in the light installer.
	* doc/README.de.txt, doc/README.en.txt: Document MSI package.
	* src/make-msi.bat: Support other languages and light installer.

2007-11-23  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpgme to 1.1.6-svn1279.

2007-11-23  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update kleopatra to version 20071122.

2007-11-16  Marcus Brinkmann  <marcus@g10code.de>

	* src/make-msi.guids: Include manual files.
	* src/make-msi.pl: Support manuals, and prefix output file names
	by src, because manuals are within gpg4win.

2007-11-15  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-kleopatra.nsi: Use SRCDIR to find kleopatra.bat.
	* src/inst-qt.nsi: Use SRCDIR to find qt.conf and BUILD_DIR to
	find mingwm10.dll.
	* src/make-msi.guids: Add these files.
	* src/make-msi.pl (dump_all): Do not try to start the service yet.
	(collect_all): Support SRCDIR in File.
	* src/uninst-regex.nsi: Uninstall regex.dll.

	* src/inst-sections.nsi (CalcDepends): Add dependency for
	libetpan.
	* src/make-msi.guids: Add libetpan and claws.

	* Makefile.am (EXTRA_DIST): Add these patches.
	* packages/packages.current: Update claws mail.  Download
	regex-bin package.
	* patches/claws-mail-3.0.2/01-w32-logo.patch,
	patches/claws-mail-3.0.2/02-w32-icon.patch,
	patches/claws-mail-3.0.2/03-smime-plugin.patch,
	patches/claws-mail-3.0.2/04-gettimeofday.patch,
	patches/claws-mail-3.0.2/99-auto.patch: New files.
	* configure.ac: Make regex a GNUWIN32 package.
	* src/inst-regex.nsi: Install regex.dll.
	* src/Makefile.am: Do not delete regex shared library.

2007-11-14  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-kleopatra.nsi: Prefix kleopatra.bat by $BUILD_DIR.
	* src/make-msi.pl: Add INSTDIR\pub to PATH environment for gnupg.
	Handle /oname in File statements.  Handle upgrades.  Register
	DLLs.  Register services.
	* src/make-msi.guids: Update.

2007-11-13  Marcus Brinkmann  <marcus@g10code.de>

	* src/make-msi.pl: New file.
	* src/make-msi.bat: New file.
	* src/make-msi.guids: New file.
	* src/gpl.rtf: New file.

2007-11-12  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update to kleopatra 20071112.

	* packages/packages.current: Update to kleopatra 20071109.

2007-11-08  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-gpgex.nsi: Add online documentation.
	* src/uninst-gpgex.nsi: Delete online documentation and other
	directories.

	* packages/packages.current: Update gpgex.

2007-11-02  Werner Koch  <wk@g10code.com>

	* src/g4wihelp.c (path_add): Remove debug stuff.

	* src/inst-kleopatra.nsi: Adjust location for some DLLs.

2007-10-26  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Add libetpan.
	* configure.ac: Add libetpan package.
	* include/config.nsi.in: Add support for libetpan.
	* src/Makefile.am (EXTRA_DIST): Add inst-libetpan.nsi and
	uninst-libetpan.nsi.
	(gpg4win_spkgs): Add libetpan.
	(gpg4win_pkg_libetpan_configure): New variable.
	* src/uninst-libetpan.nsi, src/inst-libetpan.nsi: New files.
	* src/gpg4win.mk.in: Invoke configure with relative path to make
	it easier on some packages (in particular libetpan).
	(SETVRS): Add install bin directory to PATH.

2007-10-29  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update to libgpg-error 1.6.

2007-10-26  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update to libgcrypt 1.3.1.

2007-10-22  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Updated gpgol.

2007-10-18  Marcus Brinkmann  <marcus@g10code.de>

	* src/g4wihelp.c (read_w32_registry_string): New function.
	(ENV_HK, ENV_REG): New macros.
	(path_add, path_remove): New functions.
	* src/gpg4win.nsi: Remove GpgEX from light installer.
	* src/installer.nsi (AddToPath, RemoveFromPath): Rewritten.

2007-10-17  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-kleopatra.nsi: Add DESC_Menu_kleopatra language string.
	* src/inst-sections.nsi: Install kleopatra links.
	* src/installer-finish.nsi: Uninstall kleopatra.
	* configure.ac: Make pinentry dependent on gtk+ instead of glib.
	* src/Makefile.am (gpg4win_pkg_pinentry_configure): Revert last
	change.
	* src/inst-pinentry.nsi: Revert last change.

2007-10-17  Werner Koch  <wk@g10code.com>

	* src/inst-kdesupport.nsi: Remove libeay32.dll and ssleay32/dll;
	they seems not to be necessary and conflict with the GPL anyway.

	* src/inst-gpgol.nsi: s/GPGol/GpgOL/.

	* src/inst-pinentry.nsi: Install native pinentry.
	* src/Makefile.am: Disable pinnetry-gtk-2 for now.
	* configure.ac: Make pinentry depend on glib.

2007-10-17  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Reenable oxygen-icons dependency.
	* src/inst-oxygen-icons.nsi: Only install action icons for now.
	* packages/packages.current: Reenable oxygen-icons.
	Update kleopatra and gpgex packages.

2007-10-16  Marcus Brinkmann  <marcus@g10code.de>

	* src/uninst-dirmngr.nsi: Remove etc files.
	* src/inst-dirmngr.nsi: Do not use wildcard.

	* src/uninst-qt.nsi: Uninstall qt.conf.

	* src/uninst-qt.nsi: Uninstall mingwm10.dll.
	* src/inst-kleopatra.nsi: Fix slash instead backslash error.
	* src/uninst-kdelibs.nsi: Remove directories share\config\ui and
	share\config instead share\ui.  Remove directories
	share\kde4\services and share\kde4.
	* src/uninst-pinentry.nsi: Uninstall pinentry-w32.exe and
	pinentry-gtk-2.exe.
	* src/uninst-kleopatra.nsi: Uninstall kleopatra.bat.
	Remove directory share\apps\kleopatra.

	* packages/packages.current: Enable gpgex.

2007-10-15  Marcus Brinkmann  <marcus@g10code.de>

	* src/kleopatra.bat: New file.
	* src/inst-kleopatra.nsi: Install kleopatra.bat.
	* src/Makefile.am (EXTRA_DIST): Add qt.conf and kleopatra.bat.

2007-10-14  Marcus Brinkmann  <marcus@g10code.de>

	* src/Makefile.am (gpg4win_pkg_pinentry_configure): Enable
	pinentry gtk2 and add required configure flags for it.
	* src/inst-pinentry.nsi: Install pinentry-gtk-2.exe along with
	pinentry-w32.exe and make it the default.

2007-10-12  Werner Koch  <wk@g10code.com>

	* src/inst-kleopatra.nsi: Select by default.  Do not install
	test_uiserver.
	* src/uninst-kleopatra.nsi: No need to remove test_uiserver.

	* src/inst-gpgee.nsi: Do not select by default.
	* src/inst-gpgex.nsi: Select by default.

2007-10-11  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Update kleopatra. Update gpgol.
	Disable gpgex.

	* configure.ac (gpgol): Add libassuan as dependency.
	* src/Makefile.am (gpg4win_pkg_gpgol_configure): Add
	--with-libassuan-prefix.

2007-10-10  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-kdelibs.nsi: Do not install libkdefx.dll.
	* packages/packages.current: Update gpgme, kdelibs and kleopatra.

2007-10-09  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Fix last change.
	* packages/packages.current: Update gpgex.

	* configure.ac: Disable oxygen-icons for now.
	* packages/packages.current: Disable oxygen-icons for now.  Update
	kleopatra.

	* src/Makefile.am (gpg4win_pkg_gpa_configure): Add search path for
	libassuan and gpg-error.

2007-10-06  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Fixed gpgex filename to be .gz.

2007-10-05  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update dirmngr.

	* packages/packages.current: Update libassuan.

	* packages/packages.current: Update gpgex and libassuan, and fix gnupg2.

	* packages/packages.current: Update gpgme, gpgex and kleopatra.

2007-10-02  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update libassuan, gpgme, gnupg and kleopatra.

2007-09-28  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update GPGME snapshot.

	* src/inst-kleopatra.nsi: Put kleopatra into bin for now.
	* src/uninst-kleopatra.nsi: Remove it from there.
	* src/inst-kdesupport.nsi: Put dbus-daemon into bin for now, and
	install missing config files.
	* src/uninst-kdesupport.nsi: Uninstall these files.

2007-09-26  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-gnupg2.nsi: Put it in the read-only section.
	* src/inst-sections.nsi: Make kleopatra dependent on gnupg2, and
	gpgol dependent on kleopatra.  Remove explicit dependencies on
	gnupg and gnupg2 from individual packages.	
	* src/gpg4win.nsi: Remove kleopatra from light installer.

2007-09-25  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-sections.nsi, src/inst-kleopatra.nsi,
	src/inst-gpgex.nsi: Some bug fixes.

	* configure.ac: Add check for kleopatra.
	* include/config.nsi.in: Add macros for kleopatra.
	* src/inst-kleopatra.nsi, src/uninst-kleopatra.nsi: New files.
	* src/Makefile.am (gpg4win_bpkgs): Add kleopatra.
	(EXTRA_DIST): Add inst-kleopatra.nsi and uninst-kleopatra.nsi.
	* src/inst-sections.nsi: Add support for kleopatra.
	* packages/packages.current: Add kleopatra.

	* src/gpg4win.nsi: Disable kdelibs, kdesupport, oxygen-icons in
	light installer.
	* configure.ac: Add check for kdelibs.
	* include/config.nsi.in: Add macros for kdelibs.
	* src/inst-kdelibs.nsi, src/uninst-kdelibs.nsi: New files.
	* src/Makefile.am (gpg4win_bpkgs): Add kdelibs.
	(EXTRA_DIST): Add inst-kdelibs.nsi and uninst-kdelibs.nsi.
	* src/inst-sections.nsi: Add support for kdelibs.
	* packages/packages.current: Add kdelibs.

	* configure.ac: Add check for oxygen-icons.
	* include/config.nsi.in: Add macros for oxygen-icons.
	* m4/gpg4win.m4: Fix translit expression (dash must come first or last).
	* src/inst-oxygen-icons.nsi, src/uninst-oxygen-icons.nsi: New files.
	* src/Makefile.am (gpg4win_bpkgs): Add oxygen-icons.
	(EXTRA_DIST): Add inst-oxygen-icons.nsi and
	uninst-oxygen-icons.nsi.
	* src/inst-sections.nsi: Add support for oxygen-icons.
	* packages/download.sh (name): Add "link" option.
	* packages/packages.current: Add oxygen-icons.

2007-09-24  Marcus Brinkmann  <marcus@g10code.de>

	* src/Makefile.am (EXTRA_DIST): Add inst-kdesupport.nsi and
	src/uninst-kdesupport.nsi.
	(gpg4win_bpkgs): Add kdesupport.
	(gpg4win_pkg_kdesupport_post_install): New macro.
	* src/inst-kdesupport.nsi, src/uninst-kdesupport.nsi: New files.
	* src/inst-sections.nsi: Add kdesupport (also as a dependency for
	Qt).
	* packages/packages.current: Add kdesupport.
	* include/config.nsi.in: Add macros for kdesupport.
	* configure.ac: Check for kdesupport.  Make qt dependent on it.

	* configure.ac: Check for mingwm10.dll.
	* src/gpg4win.mk.in: Fix clean-PKG for binary packages.
	* src/inst-qt.nsi: Install QtDBus4.dll.  Do not install debug and
	source files.
	* src/uninst-qt.nsi: Likewise for uninstall.
	* packages/packages.current: Update Qt.

2007-09-17  Werner Koch  <wk@g10code.com>

	* configure.ac: Set version to 1.9.0-svn.  Make gpgme depend on qt
	again.
	* src/Makefile.am (gpg4win_pkg_gpgme_configure): Enable Qt again.
	* packages/packages.current: Disable gpgee, enable gpgex.
	
2007-09-17  Werner Koch  <wk@g10code.com>

	Released 0.9.92.

	* src/Makefile.am (gpg4win_pkg_gpgme_configure): Disable Qt
	requirement.
	* configure.ac: Ditto.

	* packages/packages.current: Update gpgol to 0.9.92 and gpgme to a
	new snapshot. Disable gpgex, enable gpgee.

2007-09-12  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update dirmngr.

2007-09-11  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpgex.

	* packages/packages.current: Add gpgex, disable gpgee.

	* packages/packages.current: Bump gnupg to 2.0.7.

	* src/qt.conf: New file.
	* src/inst-qt.nsi: Install qt.conf.

2007-09-10  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update gpgme and libassuan to
	snapshot pacakages.

2007-09-07  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Add libassuan as dependency for GpgEX.
	* src/Makefile.am (gpg4win_pkg_gpgex_configure): Add gpg-error and
	libassuan configure options.

	* configure.ac: Add qt as dependency for GPGME.
	* src/inst-sections.nsi [HAVE_PKG_QT]: Make GPGME depending on Qt. 
	* src/inst-gpgme.nsi: Change condition from !GPG4WIN_LIGHT to HAVE_PKG_QT.

	* src/Makefile.am (gpg4win_pkg_gpgme_configure): Remove LDFLAGS,
	add --enable-w32-qt and work around Qt's lack of cross compilation
	support.
	* src/gpg4win.mk.in (stamps/stamp-$(1)-02-configure): Call
	configure through eval, so that configure options with spaces are
	quoted properly.
	* src/inst-gpgme.nsi [!GPG4WIN_LIGHT]: Install libgpgme-qt-11.dll.
	* src/uninst-gpgme.nsi: Uninstall libgpgme-qt-11.dll.
	
2007-08-30  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Add gpgex.
	* include/config.nsi.in: Add gpgex.
	* src/Makefile.am (EXTRA_DIST): Add inst-gpgex.nsi and
	uninst-gpgex.nsi.
	(gpg4win_spkgs): Add gpgex.
	(gpg4win_pkg_gpgex_configure): New variable.
	* src/inst-sections.nsi: Add gpgex installer and uninstaller, as
	well as description.
	(CalcDefaults, CalcDepends): Add gpgex.

2007-08-30  Marcus Brinkmann  <marcus@g10code.de>

	* packages/download.sh: Implement new "name" command and remove
	"ren" command.
	* packages/packages.current: Add qt.
	* configure.ac: Add qt.
	* include/config.nsi.in: Add qt.
	* src/Makefile.am (EXTRA_DIST): Add inst-qt.nsi and uninst-qt.nsi.
	(gpg4win_bpkgs): Add qt.
	* src/uninst-qt.nsi, src/inst-qt.nsi: New files.
	* src/inst-sections.nsi: Run installer and uninstaller for qt.
	(CalcDepends): Handle qt.
	* src/gpg4win.nsi: Remove qt from light installer.

2007-08-24  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-gnupg.nsi: Write compatibility key to registry for GPGee.

2007-08-24  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Updated libassuan to 1.0.3.

2007-08-23  Werner Koch  <wk@g10code.com>

	* src/inst-dirmngr.nsi: Install examples files as default
	configuration.

2007-08-20  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Add bzip2.

	* configure.ac: Check for RANLIB and AR.  Look for bzip2.  Make
	gnupg and gnupg2 depend on it.
	* src/Makefile.am (gpg4win_pkg_bzip2_make_args) 
	(gpg4win_pkg_bzip2_make_args_inst): New.
	(EXTRA_DIST): Add bzip2.
	(gpg4win_pkg_gnupg_configure): New.  Look for bzip2.
	* include/config.nsi.in: Add bzip2.
	* src/inst-bzip2.nsi: New.
	* src/uninst-bzip2.nsi: New.

2007-08-16  Werner Koch  <wk@g10code.com>

	Released 1.1.2.

	* src/inst-gnupg2.nsi: Allow overwriting of gpg-agent.
	* src/inst-libgpg-error.nsi: Allow overwriting of libgpg-error.dll.
	* src/inst-libgcrypt.nsi: Likewise.
	* src/inst-gpgme.nsi: Likewise.
	* src/inst-w32pth.nsi: Likewise.
	* src/inst-libiconv.nsi: Likewise.

	* packages/packages.current: Updated GnuPG2 and W32pth.  Add
	Dirmngr.  Add gpgme snapshot.

2007-08-15  Marcus Brinkmann  <marcus@g10code.de>

	* src/g4wihelp.c (config_init): Fix bug in argument parsing.

2007-08-14  Marcus Brinkmann  <marcus@g10code.de>

	* src/g4wihelp.c (config_lookup, config_fetch_bool): New functions.
	* src/inst-sections.nsi (CalcDefaults): New function.
	(.onInit): Call CalcDefaults.
	* src/inst-sections.nsi (CalcDepends): New function.  Run it once.
	Support auto-config for link selection.
	* src/installer-finish.nsi: Support auto-config for start menu folder.

	* src/g4wihelp.c (service_create): Auto start service, install as
	local service.
	(service_start): Set argv to NULL if argc is zero.
	(service_stop): Wait until service is actually stopped.  Implement
	the whole logic when to stop and when to wait.
	* src/installer.nsi: Print warning about shutting down dirmngr.
	Shutdown dirmngr.
	* src/inst-dirmngr.nsi: Remove code refactored into service_stop.
	Do not pass any arguments when starting the service.  Use
	CreateDirectory instead of SetOutPath.
	* src/uninst-dirmngr.nsi: Remove code factored into service_stop.
	* src/inst-gnupg.nsi, src/inst-gnupg2.nsi, src/inst-gpa.nsi: Use
	CreateDirectory instead SetOutPath.

	* patches/claws-mail-3.0.0-rc2/03-smime-plugin.patch: Change
	license string to "GPL3+" to make Claws load it.

	* src/gpg4win.mk: Implement clean-PKG targets to allow rebuilding
	individual packages.

2007-08-14  Werner Koch  <wk@g10code.com>

	* packages/Makefile.am (packages.current.sig, upload): Remove.
	(EXTRA_DIST): Remove packages.key.  Add packages.current.

	* packages/download.sh: Remove online downloading of
	packages.current.
	* packages/packages.current: Fix comment.

2007-08-13  Marcus Brinkmann  <marcus@g10code.de>

	* patches/claws-mail-3.0.0-rc2/04-cvs116.patch: New file.
	* Makefile.am (EXTRA_DIST): Add that patch.

	* NEWS: Add new entries.
	* README.wine: Remove obsolete file.

	* src/inst-gnupg2.nsi: Install config files.
	* src/inst-dirmngr.nsi: Likewise.
	* src/inst-gpa.nsi: Likewise.

	* src/g4wihelp.c (config_init, config_fetch): New functions.
	* src/inst-gnupg.nsi: Install gpg.conf AppData if configured.

2007-08-10  Marcus Brinkmann  <marcus@g10code.de>

	* patches/claws-mail-3.0.0-rc2/01-w32-logo.patch,
	patches/claws-mail-3.0.0-rc2/02-w32-icon.patch,
	patches/claws-mail-3.0.0-rc2/03-smime-plugin.patch,
	patches/claws-mail-3.0.0-rc2/99-auto.patch: New files.
	* Makefile.am (EXTRA_DIST): Add these patches.
	* packages/packages.current: Upgrade claws to 3.0.0-rc2.

	* m4/gpg4win.m4: Check for duplicate packages.

2007-08-06  Werner Koch  <wk@g10code.com>

	* src/gpgwrap.c (build_commandline): Terminate each itenm in the
	array.  Problem found by Moritz Schulte.
	
2007-08-04  Marcus Brinkmann  <marcus@g10code.de>

	* src/g4wihelp.c (service_error, service_create, service_lookup,
	service_start, service_stop, service_delete): New functions.
	* src/inst-dirmngr.nsi: Register and start the service.
	* src/uninst-dirmngr.nsi: Stop and unregister the service.

	* src/inst-sections.nsi: Add dirmngr as dependency for gnupg2, and
	w32pth as dependency for dirmngr.

	* src/Makefile.am (gpg4win_pkg_gnupg2_configure): Add
	--with-pth-prefix.

2007-07-10  Werner Koch  <wk@g10code.com>

	Released 1.1.1.

	* src/Makefile.am (EXTRA_DIST): Remove $(common_nsi).  Add all
	installer scripts explicitly.

	* Makefile.am (EXTRA_DIST): Removed old patches for Sylpheed.
	(AUTOMAKE_OPTIONS): Add no-dist-gzip.

	* src/gpg4win.nsi [GPG4WIN_LIGHT]: Undef gnupg2 and related libs.
	Undef the English novices manual.
	* src/installer-finish.nsi: Delete the link for the English novices
	manual and the claws manual.

	* src/uninst-sylpheed-claws.nsi: Delete the manual even when using
	the lighjt version.  This is to allow updating with a light version.
	* src/uninst-claws-mail.nsi: Ditto.

	* src/installer-finish.nsi: Changed publisher name to "The Gpg4win
	Project".

	* src/gpg4win.nsi: Fixed capitalization of some Gpg4win strings.
	* src/gpg4win-src.nsi: Ditto.

2007-07-09  Werner Koch  <wk@g10code.com>

	* src/uninst-gnupg2.nsi: Need to remove com-certs.pem.

	* src/inst-gnupg2.nsi: Make it an optional package.
	Add description.
	* src/inst-sections.nsi: Include language macro for description.

2007-07-09  Marcus Brinkmann  <marcus@g10code.de>

	* patches/gpgol-0.9.91/01-gpgme.patch: New file.
	* Makefile.am (EXTRA_DIST): Add patches/gpgol-0.9.91/01-gpgme.patch.

	* packages/download.sh: Implement a new function "ren" for
	renaming.
	* packages/packages.current: Rename gnupg 2.

	* packages/packages.current: Update to GPGME 1.1.5.

	* src/Makefile.am (gpg4win_pkg_gpgme_configure): Enable gpgsm.

2007-07-05  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update to Gtk+ 2.10.13.

	* patches/claws-mail-2.10.0/03-w32-port.patch: Fix cut&paste bug.
	* patches/claws-mail-2.9.2/03-w32-port.patch: Likewise.
	Spotted by Colin Leroy.

2007-07-04  Jan-Oliver Wagner  <jan-oliver.wagner@intevation.de>

	* README: Added just another dependency that sometimes happen to miss.

2007-07-03  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Update sylpheed entry to claws-mail.

	* configure.ac: Add dirmngr.
	* include/config.nsi.in: Add dirmngr.
	* src/Makefile.am (gpg4win_spkgs): Add dirmngr.
	(gpg4win_pkg_dirmngr_configure): New variable.
	* src/inst-dirmngr.nsi, src/uninst-dirmngr.nsi: New files.
	* src/inst-sections.nsi [HAVE_PKG_DIRMNGR]: Include installer
	and uninstaller snippet for dirmngr.

	* Makefile.am (EXTRA_DIST): Add
	patches/claws-mail-2.10.0/01-w32-logo.patch,
	patches/claws-mail-2.10.0/02-w32-icon.patch,
	patches/claws-mail-2.10.0/03-w32-port.patch,
	patches/claws-mail-2.10.0/04-smime-plugin.patch and
	patches/claws-mail-2.10.0/99-auto.patch.
	* patches/claws-mail-2.10.0/01-w32-logo.patch,
	patches/claws-mail-2.10.0/02-w32-icon.patch,
	patches/claws-mail-2.10.0/03-w32-port.patch,
	patches/claws-mail-2.10.0/04-smime-plugin.patch,
	patches/claws-mail-2.10.0/99-auto.patch: New files.

2007-07-02  Marcus Brinkmann  <marcus@g10code.de>

	* src/Makefile.am (gpg4win_pkg_claws_mail_configure): Fix config
	dir.

	* Makefile.am (EXTRA_DIST): Add
	patches/claws-mail-2.9.2/01-w32-logo.patch,
	patches/claws-mail-2.9.2/02-w32-icon.patch,
	patches/claws-mail-2.9.2/03-w32-port.patch,
	patches/claws-mail-2.9.2/04-smime-plugin.patch and
	patches/claws-mail-2.9.2/99-auto.patch.
	* patches/claws-mail-2.9.2/01-w32-logo.patch,
	patches/claws-mail-2.9.2/02-w32-icon.patch,
	patches/claws-mail-2.9.2/03-w32-port.patch,
	patches/claws-mail-2.9.2/04-smime-plugin.patch,
	patches/claws-mail-2.9.2/99-auto.patch: New files.

	* configure.ac: Add claws-mail.
	* include/config.nsi.in: Add claws-mail.
	* src/Makefile.am (gpg4win_spkgs): Add claws-mail.
	(gpg4win_pkg_claws_mail_configure): New variable.
	* src/inst-claws-mail.nsi, src/uninst-claws-mail.nsi: New files.
	* src/inst-sections.nsi [HAVE_PKG_CLAWS_MAIL]: Include installer
	and uninstaller snippet for claws-mail, handle claws-mail
	dependencies and add a menu item for it.

2007-06-22  Werner Koch  <wk@g10code.com>

	* src/inst-gnupg2.nsi: Install more files.
	* src/uninst-gnupg2.nsi: and uninstall them.

	* src/Makefile.am (gpg4win_pkg_gnupg_post_install): Remove
	underlined markup.  Reported by Dirk Traulsen.

2007-06-20  Werner Koch  <wk@g10code.com>

	* src/inst-sections.nsi, src/Makefile.am, src/uninst-pinentry.nsi
	* src/inst-pinentry.nsi, include/config.nsi.in: Add new package
	pinentry.
	* src/Makefile.am (gpg4win_pkg_pinentry_configure): New.
	
	* src/Makefile.am (gpg4win-$(VERSION).exe): Add versioninfo.txt as
	dependency.
	(gpg4win-light-$(VERSION).exe): Ditto.

2007-06-20  Marcus Brinkmann  <marcus@g10code.de>

	* po: New directory.
	* m4/po.m4: New file, from gettext-0.16.1.
	* m4/progtest.m4: New file, from gettext-0.16.1.
	* m4/nls.m4: New file, from gettext-0.16.1.
	* Makefile.am (SUBDIRS): Add po.
	* configure.ac: Invoke AM_PO_SUBDIRS.
	(AC_CONFIG_FILES): Add po/Makefile.in.

	* src/installer.nsi: Do not insert MUI_LANGUAGE "German".
	* src/gpg4win.nsi, src/gpg4win-src.nsi: Add include dir
	${TOP_SRCDIR}/po.  Include "../po/catalogs.nsi".
	* src/inst-gnupg.nsi: Move translation string DESC_Menu_gnupg_faq
	from here ...	
	* src/inst-gpg4win.nsi: ... to here.

	* src/g4wihelp.nsi, src/installer.nsi, src/inst-eudoragpg.nsi,
	src/inst-gnupg.nsi, src/inst-gpa.nsi, src/inst-gpg4win.nsi,
	src/inst-gpgee.nsi, src/inst-gpgol.nsi,
	src/inst-man_advanced_de.nsi, src/inst-man_advanced_en.nsi,
	src/inst-man_novice_de.nsi, src/inst-man_novice_en.nsi,
	src/inst-sylpheed-claws.nsi, src/inst-winpt.nsi: Remove German
	translation.
	
2007-06-18  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-w32pth.nsi: Install shared library.
	* src/uninst-w32pth.nsi: Uninstall shared library.

	* src/inst-gnupg2.nsi: Install gpgconf.exe.
	* src/uninst-gnupg2.nsi: Uninstall gpgconf.exe.

	* src/inst-sections.nsi: Add dependency management for GnuPG2.

2007-06-15  Werner Koch  <wk@g10code.com>

	* src/gpg4win.mk.in: Add cruel hack to support gnupg2.

	* src/Makefile.am: Use --silent with most configure runs.
	(gpg4win_pkg_gnupg2_post_install): New.

	* src/uninst-gnupg2.nsi, src/inst-libgnupg2.nsi: New.
	* src/uninst-libassun.nsi, src/inst-libassuan.nsi: New.
	* src/inst-libksba.nsi, src/uninst-libksba.nsi: New.
	* src/inst-libgcrypt.nsi, src/uninst-libgcrypt.nsi: New.
	* src/inst-sections.nsi: Include new installation scripts.a
	* include/config.nsi.in: Add definitions for new packages.

	* src/uninst-gnupg.nsi: Fix removal of gpgkeys helper.

2007-06-12  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpgwrap.c (main): Call _spawnv, not execv.

2007-05-25  Marcus Brinkmann  <marcus@g10code.de>

	* src/uninst-gnupg.nsi: Fix path of gpgkeys helper programs.
	Remove pub directory.
	* src/uninst-gtk+.nsi: Fix path of directory to be removed.

2007-05-24  Werner Koch  <wk@g10code.com>

	Released 1.1.0.

	* configure.ac (PREVIEWHOST): New. 
	(MANUALVERSION_NOVICES): Set to 1.0.0.

2007-05-20  Marcus Brinkmann  <marcus@g10code.de>

	* patches/glib-2.12.12/01-giowin32.patch,
	patches/glib-2.12.12/02-gspawn-w32.patch,
	patches/glib-2.12.12/03-gspawn-w32-fixup.patch: New files.
	* Makefile.am (EXTRA_DIST): Add these new files.

	* src/gpgwrap.c (build_commandline): New function.
	(main): Quote argument vector.

	* configure.ac: Comment advanced manual here as well.

2007-05-19  Marcus Brinkmann  <marcus@g10code.de>

	* autogen.sh: Fix test.
	* src/Makefile.am: Replace := by =.a 

	* packages/download.sh: Require bash due to brace expansion.

2007-05-18  Werner Koch  <wk@g10code.com>

	* src/gpgwrap.c (main): Delimit the real path from the version
	using a semicolon.

2007-05-17  Werner Koch  <wk@g10code.com>

	* src/installer.nsi (AddToPath,RemoveFromPath): New.
	* src/inst-gpa.nsi: Install gpgwrap for gpa.
	* src/inst-gnupg.nsi: Install gpgwrap for gpg, gpgv and gpgsplit.
	
	* src/gpgwrap.c: New.

	* configure.ac: Check for strip.
	(AC_CONFIG_HEADER): New.
	* src/Makefile.am (g4wihelp.dll): Strip.
	(gpgwrap.exe): Build.

2007-05-16  Werner Koch  <wk@g10code.com>

	* src/inst-gtk+.nsi: Install new themes and the engines.  Update
	to gtk 2.10.
	* src/uninst-gtk+.nsi: Likewise.

	* src/inst-pango.nsi: Adjust for Pango 1.16.

	* configure.ac: New package Cairo as reguired by the current Gtk+.
	* src/uninst-cairo.nsi, src/inst-cairo.nsi: New.
	* src/inst-sections.nsi: Install Cairo.
	* include/config.nsi.in: Ditto.

	* src/uninst-gnupg.nsi: Delete gnupg.nls directory.

2007-03-09  Werner Koch  <wk@g10code.com>

	Released 1.0.9.

	* src/Makefile.am: Fixed syntax error in gnupg post install.
	(EXTRA_DIST): Add english manual installation files.

	* packages/packages.current: Replaced sourceforge download site
	by the g10code mirror.  Updated WinPT, GPA and GnupG.

2007-02-26  Werner Koch  <wk@g10code.com>

	* configure.ac: Require msgfmt.
	* src/inst-gnupg.nsi: Install the German translation.
	* src/Makefile.am (gpg4win_pkg_gnupg_post_install): Create mo files.

2006-12-06  Werner Koch  <wk@g10code.com>

	Released 1.0.8.

	* autogen.sh: Add option --force.

	* src/Makefile.am: GnuPG man pages are now below share.
	* src/inst-gnupg.nsi: Ditto

2006-12-04  Werner Koch  <wk@g10code.com>

	* src/Makefile.am (gpg4win_ipkgs): Add english manuals.

	* autogen.sh <build-w32>: Disable the english manuals for now.

2006-11-30  Werner Koch  <wk@g10code.com>

	* include/config.nsi.in: Add definitions for the english manuals.
	* configure.ac: Adjusted name of manual directory.
	* src/inst-man_novice_de.nsi: Ditto.
	* src/inst-man_advanced_de.nsi: Ditto.
	* src/inst-man_advanced_en.nsi: New.
	* src/inst-man_novice_en.nsi: New.
	* src/uninst-man_novice_en.nsi: New.
	* src/uninst-man_advanced_en.nsi: New.
	* src/inst-sections.nsi: Include the new installers sections.

2006-10-13  Werner Koch  <wk@g10code.com>

	Released 1.0.7.

	* patches/gnupg-1.4.5/01-uncompress.patch: New.

2006-08-28  Werner Koch  <wk@g10code.com>

	Released 1.0.6.
	
	* Makefile.am (EXTRA_DIST): Added missing patches for Claws.

	* packages/download.sh: Rewrote option parser.  New option
	--no-sig-check.

2006-08-04  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Replace sylpheed-claws 2.3.1 with
	2.4.0.
	* Makefile.am (EXTRA_DIST): Add
	patches/sylpheed-claws-2.4.0/01-w32-logo.patch,
	patches/sylpheed-claws-2.4.0/02-w32-icon.patch,
	patches/sylpheed-claws-2.4.0/03-plugins-symbols.patch,
	patches/sylpheed-claws-2.4.0/04-font-prefs.patch,
	patches/sylpheed-claws-2.4.0/05-textviewer.patch,
	patches/sylpheed-claws-2.4.0/99-auto.patch.

2006-08-03  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Add libiconv as a dependency for gnupg.
	* src/inst-sections.nsi: Likewise here.

2006-08-02  Marcus Brinkmann  <marcus@g10code.de>

	* packages/packages.current: Add jpeg packages.
	* src/inst-sections.nsi: Add jpeg support.
	* src/Makefile.am (gpg4win_bpkgs): Add jpeg.
	* src/inst-jpeg.nsi, src/uninst-jpeg.nsi: New file.
	* include/config.nsi.in: Add defines for jpeg.
	* configure.ac: Add new GnuWin32 package jpeg.  Add it as a
	dependency to sylpheed-claws.

2006-08-02  Werner Koch  <wk@g10code.com>

	Released 1.0.5.

2006-07-25  Werner Koch  <wk@g10code.com>

	Released 1.0.4.

	* src/installer-finish.nsi: Delete Sylpheed manual.

	* patches/gnupg-1.4.4/01-reopen-std.patch: New. 
	* Makefile.am (EXTRA_DIST): Add new patch and removed old 1.4.2
	patch.

2006-07-22  Timo Schulz  <twoaday@g10code.de>

	* Makefile.am: Added new sylpheed patches.
	
2006-07-14  Marcus Brinkmann  <marcus@g10code.de>

	* patches/sylpheed-claws-2.3.1 (08-w32-logo.patch,
	09-w32-icon.patch, 99-auto.patch): New files.

2006-07-12  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-sections.nsi: Install start menu and desktop link for
	the sylpheed manual.
	* src/inst-sylpheed-claws.nsi: Install manual.
	(DESC_Menu_sylpheed_pdf): New translation.
	* src/uninst-sylpheed-claws.nsi: Uninstall manual.

2006-06-28  Werner Koch  <wk@g10code.com>

	* Makefile.am (copy-news): New target.

2006-06-27  Werner Koch  <wk@g10code.com>

	* src/inst-sylpheed-claws.nsi: Renamed strings to Sylpheed-Claws.
	* src/installer-finish.nsi: Ditto.
	* src/inst-sections.nsi: Ditto.

2006-06-26  Werner Koch  <wk@g10code.com>

	Released 1.0.3.

	* Makefile.am (EXTRA_DIST): Added new Sylpheed patches. Removed
	old sylpheed patches.

2006-05-30  Werner Koch  <wk@g10code.com>

	Released 1.0.2.

2006-05-29  Marcus Brinkmann  <marcus@g10code.de>

	* Makefile.am (DIST): Add
	patches/sylpheed-claws-2.2.0/01-locale-dir.patch,
	patches/sylpheed-claws-2.2.0/02-fix-plugin-dir.patch,
	patches/sylpheed-claws-2.2.0/03-std-plugins.patch and
	patches/sylpheed-claws-2.2.0/04-pgpcore-def.patch.
	* patches/sylpheed-claws-2.2.0/01-locale-dir.patch,
	patches/sylpheed-claws-2.2.0/02-fix-plugin-dir.patch,
	patches/sylpheed-claws-2.2.0/03-std-plugins.patch,
	patches/sylpheed-claws-2.2.0/04-pgpcore-def.patch: New file.

	* Makefile.am (EXTRA_DIST): Add
	patches/glib-2.9.2-wk1/03-gspawn-w32-fixup.patch and
	patches/glib-2.9.2-wk1/04-gspawn-w32-buffering.patch.
	* patches/glib-2.9.2-wk1/03-gspawn-w32-fixup.patch: New file.
	* patches/glib-2.9.2-wk1/04-gspawn-w32-buffering.patch: New file.

2006-04-27  Marcus Brinkmann  <marcus@g10code.de>

	* src/Makefile.am (gpg4win_pkg_gnupg_post_install): New macro to
	generate man pages.
	* src/gpg4win.mk.in (stamps/stamp-$(1)-04-install): Invoke post
	install macro.
	* src/inst-gnupg.nsi: Install man pages.
	* src/uninst-gnupg.nsi: Uninstall man pages.

2006-04-26  Werner Koch  <wk@g10code.com>

	Released 1.0.1.

2006-04-25  Werner Koch  <wk@g10code.com>

	* src/Makefile.am (clean-local): Also remove the light installer.

	* src/installer.nsi (PrintNonAdminWarning): Use Quit instead of Abort.

	* src/uninst-glib.nsi: Delete console helper.

	* configure.ac: Define manual versions.

	* src/inst-sections.nsi: Do not install the GGPee manual in the QLB.

2006-04-24  Werner Koch  <wk@g10code.com>

	* src/Makefile.am (NEWS.tmp): New. Use it in the README files
	so that the comment lines are not visible.

	* packages/packages.current: Updated GPGee, WinPT and GPGol.

2006-04-22  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg4win.mk (stamps/stamp-final-$(1)): Depend on
	stamps/stamp-directories.

	* src/installer.nsi (T_InstOptLabelB): New string.
	(CustomPageOptions): Install new string.
	* src/installer-options.ini.in (Field 5): Add new field.
	(NumFields): Set to 5.
	* src/inst-sections.nsi: Do not install manuals and other
	documents in the quick launch bar.  Do not install the README on
	the desktop.

	* src/Makefile.am (gpg4win_spkgs): Move man_novice_de and
	man_advanced_de to ...
	(gpg4win_ipkgs): ... here.
	* src/gpg4win.mk.in (IPKG_template): New template.
	Insert it for each internal package.

2006-04-20  Werner Koch  <wk@g10code.com>

	* src/installer.nsi: Pop up a message before shutting down winpt.

2006-04-19  Werner Koch  <wk@g10code.com>

	* src/installer.nsi: Abort installation if not run as Admin.

2006-04-08  Marcus Brinkmann  <marcus@g10code.de>

	* m4/gpg4win.m4 (GPG4WIN_IPKG): New macro for internal packages.
	* include/config.nsi.in (gpg4win_pkg_man_novice_de,
	gpg4win_pkg_man_novice_de_version, gpg4win_pkg_man_advanced_de,
	gpg4win_pkg_man_advanced_de_version): Removed.
	* src/installer.nsi [GPG4WIN_LIGHT]: Set the output filename for
	the light installer.
	* configure.ac: New option --enable-light-installer to control the
	new automake conditional BUILD_LIGHT_INSTALLER.
	Make packages man_novide_de and man_advanced_de included packages.
	* src/Makefile.am (gpg4win-light-$(VERSION).exe): New target.
	(all_src, all_light): New variables.
	(all-local): Use all_src and all_light.
	* src/gpg4win.nsi [GPG4WIN_LIGHT]: Undefine HAVE_PKG_MAN_NOVICE_DE
	and HAVE_PKG_MAN_ADVANCED_DE.

2006-04-07  Werner Koch  <wk@g10code.com>

	* configure.ac: Use new method to include the SVN revison.  Now it
	is the actual global revision number.

2006-04-06  Werner Koch  <wk@g10code.com>

	Released 1.0.0.

2006-04-05  Werner Koch  <wk@g10code.com>

	* NEWS: Recoded to latin1.

2006-04-04  Werner Koch  <wk@g10code.com>

	* NEWS: Reformatted.

2006-04-03  Werner Koch  <wk@g10code.com>

	* src/inst-gnupg.nsi: Now that 1.4.3 has been released tehr eis no
	more need trying to install the http keyserver helper.

2006-04-01  Timo Schulz  <ts@g10code.com>

	* src/inst-sections.nsi: WinPT desktop link now
	directly starts the key manager.
	
2006-03-29  Werner Koch  <wk@g10code.com>

	Released 1.0.0rc1.

	* src/installer-options.ini: Renamed to ..
	* src/installer-options.ini.in: .. this.
	* configure.ac (BUILD_ISODATE): New.
	* include/config.nsi.in: Ditto.
	* src/gpg4win.nsi: Display it on the Welcome page

2006-03-28  Werner Koch  <wk@g10code.com>

	* src/installer.nsi (CustomPageOptions): Write Labels, so that
	they are translatable.
	(MUI_FINISHPAGE_LINK_LOCATION): Localized.
	* src/installer-options.ini: Add label field and removed static
	texts.

2006-03-27  Werner Koch  <wk@g10code.com>

	* src/installer-options.ini: Don't create a desktop link by default.

	* src/installer.nsi: Add a logo image. Add leave function.
	(CheckExistingVersion): New.
	(TrimNewLines): New.
	(PrintWinPTSFWarning): New.
	* src/inst-sections.nsi: Call it.
	Do not show the splash screen.
	* src/inst-gpg4win.nsi: Write a version file.
	* src/uninst-gpg4win.nsi: Delete version file

2006-03-27  Marcus Brinkmann  <marcus@g10code.de>

	* installer.nsi: Move custom page for installer options before
	start menu path selection.  Do not allow to disable start menu
	creation at start meny path selection dialog.  Only display start
	menu path selection dialog if start menu creation is desired.
	Rename opt.ini to installer-options.ini.
	(CheckIfStartMenuWanted): New function.
	* installer-finish.nsi: Delete desktop and quicklaunch shortcuts.
	* inst-sections.nsi: Rename opt.ini to installer-options.ini.
	Install desktop and quick launch bar shortcuts.
	* Makefile.am (EXTRA_DIST): Rename opt.ini to
	installer-options.ini.
	* installer-options.ini: New file.

2006-03-21  Werner Koch  <wk@g10code.com>

	* Makefile.am (EXTRA_DIST): No more need tositribute the GPA 0.7.2
	patch/

	* src/installer.nsi: Add a cutom option page.
	(StrStr): New.  Taken from the NSIS reference manual.
	* src/opt.ini: New.

2006-03-15  Jan-Oliver Wagner  <jan-oliver.wagner@intevation.de>

	* src/inst-gpa.nsi: Fixed a typo.

2006-03-13  Werner Koch  <wk@g10code.com>

	* packages/Makefile.am (upload): New target for uploading the
	packages file.
	* packages/download.sh: Use http://www.gpg4win/org.

2006-03-09  Werner Koch  <wk@g10code.com>

	Released 0.8.0.

	* src/inst-sylpheed-claws.nsi: Don't select be Default.

	* include/config.nsi.in: Disabled Eudora.
	* src/inst-sections.nsi: Ditto.
	* src/Makefile.am: Ditto

2006-03-08  Werner Koch  <wk@g10code.com>

	* src/inst-sections.nsi: Play the tune only for the source installer.
	* src/installer.nsi: And don't reserve the tune file.

2006-03-07  Werner Koch  <wk@g10code.com>

	* configure.ac: Don't build Eudora due to license problems.

2006-03-03  Marcus Brinkmann  <marcus@g10code.de>

	* Makefile.am (EXTRA_DIST): Change
	patches/gpa-0.7.2/01-bin-open.patch to
	patches/gpa-0.7.2/01-keyserver-list.patch.
	* packages/packages.current: Use the right GPA 0.7.2.

	* patches/gpa-0.7.2/01-bin-open.patch: Rename to ...
	* patches/gpa-0.7.2/01-keyserver-list.patch: ... this.  Remove
	binary open patch.

	* packages/packages.current: Use GPA 0.7.2.

	* packages/packages.current: Use libgpg-error 1.2 and GPGME 1.2.

2006-02-28  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-atk.nsi: Fix outpath of library.

2006-02-23  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-glib.nsi: Add glib20.mo.
	* src/uninst-glib.nsi: Remove glib20.mo.
	* src/inst-gtk+.nsi: Add gtk20.mo.
	* src/uninst-gtk+.nsi: Remove gtk20.mo.
	* src/inst-atk.nsi: Add atk10.mo.
	* src/uninst-atk.nsi: Remove atk10.mo.

2006-02-15  Werner Koch  <wk@gnupg.org>

	Released 0.7.0.

	* patches/gpa-0.7.2/01-bin-open.patch: New file.

2006-02-15  Marcus Brinkmann  <marcus@g10code.de>

	* patches/gpgme/03-w32-io.patch: New file.
	* patches/gpgme-1.1.1-cvs1152/03-w32-io.patch: New file.

2006-02-14  Werner Koch  <wk@gnupg.org>

	* README (Instructions): Add a list of required Debian packages.

2006-01-31  Werner Koch  <wk@g10code.com>

	* src/installer.nsi (InstallDir): Removed trailing backslashes.

2006-01-26  Werner Koch  <wk@g10code.com>

	Released 0.6.0.

2006-01-25  Werner Koch  <wk@g10code.com>

	* m4/gpg4win.m4 (GPG4WIN_BPKG_BINSRC): Kludge to allow
	"noinstaller" as an alternative to "bin".

2006-01-23  Werner Koch  <wk@g10code.com>

	* src/Makefile.am (README.en.txt, README.de.txt): New.
	(gpg4win-$(VERSION).exe): Depend on them.
	(CLEANFILES): Clean them up.

	* src/installer.nsi (T_LangCode): new.
	(MUI_FINISHPAGE_SHOWREADME): Use this intead of running the key
	manager.  This makes sense becuase gpg4win needs to be insalled as
	Administartor but the Administrator should in general not use
	gpg4win.

	* src/inst-gpg4win.nsi: Install README.de.txt and README.en.txt.
	* src/uninst-gpg4win.nsi: Uninstall them.

2006-01-20  Werner Koch  <wk@g10code.com>

	* configure.ac: Create doc/log/Makefile.
	* src/inst-sections.nsi: Replaced splash image by new logo.
	* src/installer.nsi: Reserve that new file.
	(Icon, UninstallIcon): New.
	* src/gpg4win-splash.bmp: Removed.

2006-01-19  Jan-Oliver Wagner  <jan-oliver.wagner@intevation.de>

	* README.SVN: Extend sample configure call. Without the --host
	setting, configure will complain about missing dlltool.

2006-01-13  Werner Koch  <wk@g10code.com>

	* patches/glib-2.9.2-wk1/02-gspawn-w32.patch: New.

2006-01-12  Werner Koch  <wk@g10code.com>

	* src/inst-glib.nsi: Also install the console spawn helper.

2006-01-10  Werner Koch  <wk@g10code.com>

	* configure.ac: New option --disable-source-installer.
	* src/Makefile.am: Implement it.

	* src/installer.nsi: Insert directory page.

2006-01-09  Werner Koch  <wk@g10code.com>

	Released 0.5.1.

	* src/inst-gnupg.nsi: Install http and not curl version.

	* src/gpg4win.mk.in (stamps/stamp-directories): Touch versioninfo.

	* src/inst-gpg4win.nsi, src/uninst-gpg4win.nsi:
	* src/Makefile.am (stamps/stamp-dist-selft): Include ourself in the
	source installer.

2006-01-06  Werner Koch  <wk@g10code.com>

	* src/gpg4win.mk.in (VERSIONINFO_macro): New.  Use it where
	appropriate.

	* configure.ac: Test for texi2dvi, dvipdf and sha1sum.

	* Makefile.am (SUBDIRS): Build doc prior to src.

	* src/inst-man_novice_de.nsi: Install einsteiger.pdf.
	* src/uninst-man_novice_de.nsi: Likewise.
	* src/inst-man_advanced_de.nsi: Install druchblicker.pdf
	* src/uninst-man_advanced_de.nsi: Likewise.

2006-01-05  Werner Koch  <wk@g10code.com>

	Released 0.5.0.

	* src/inst-winpt.nsi: Remove old mo installation hack.

	* src/Makefile.am (EXTRA_DIST): Add config.site.
	* Makefile.am (EXTRA_DIST): Update patches.

	* src/inst-sylpheed-claws.nsi, src/uninst-sylpheed-claws.nsi,
	* src/inst-gpa.nsi, src/uninst-gpa.nsi: Install language files.

2006-01-04  Werner Koch  <wk@g10code.com>

	* src/uninst-winpt.nsi: Deinstall the mo file.

	* src/uninst-gpgee.nsi: Fix Source uninstall.
	* src/uninst-glib.nsi, src/inst-glib.nsi, include/config.nsi.in:
	Adjusted for source build.

	* patches/glib-2.9.2-wk: New.
	
	* packages/packages.current: Switch to glib 2.9.2-wk1.

2006-01-05  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Add libiconv and gettext as dependencies.

2006-01-04  Marcus Brinkmann  <marcus@g10code.de>

	* patches/glib/01-giowin32.patch,
	patches/glib-2.6.6/01-giowin32.patch,
	patches/glib-2.8.4/01-giowin32.patch: Flush write buffer in write
	thread before closing FD.

	* patches/glib/01-giowin32.patch,
	patches/glib-2.6.6/01-giowin32.patch,
	patches/glib-2.8.4/01-giowin32.patch: Notify write thread about fd
	close.

2006-01-03  Marcus Brinkmann  <marcus@g10code.de>

	* patches/glib-2.8.4/01-giowin32.patch: New file.

2005-12-31  Marcus Brinkmann  <marcus@g10code.de>

	* glib/02-windres.patch: New file.
	* glib-2.6.6/02-windres.patch: New file.

	* configure.ac (glib): Make it a source package.
	* src/Makefile.am (gpg4win_bpkgs): Move glib to ...
	(gpg4win_spkgs): ... here.
	* patches/glib/01-giowin32.patch: New file.
	* patches/glib-2.6.6/01-giowin32.patch: New file.
	* src/config.site: New file.
	* src/gpg4win.mk.in (tsdir): New variable.
	(SETVARS): Use $(idir), not ${idir}.  Define CONFIG_SITE.

2005-12-18  Marcus Brinkmann  <marcus@g10code.de>

	* src/inst-sylpheed-claws.nsi: Install GPG plugins.
	* src/uninst-sylpheed-claws.nsi: Uninstall GPG plugins.

	* src/uninst-eudoragpg.nsi: Delete file
	$INSTDIR\share\eudoragpg\eudoragpg.html.

2005-12-13  Werner Koch  <wk@g10code.com>

	* packages/packages.current: Updated GPGee.
	* src/inst-gpgee.nsi: Adjusted for new location of packages.
	* m4/gpg4win.m4 (GPG4WIN_BPKG_BINSRC): Allow for -source suffix
	and uppercase package names.

2005-12-12  Werner Koch  <wk@g10code.com>

	* configure.ac: Test vor zcat.

2005-12-09  Werner Koch  <wk@g10code.com>

	* Makefile.am (SUBDIRS): Include doc dir.
	* configure.ac: Add new Makefiles.

	* doc/ChangeLog: New.  Moved relevant entries to that file.

2005-12-08  Werner Koch  <wk@g10code.com>

	* packages/download.sh: Implemented CHK statement.
	* packages/packages.current: Add chk lines for all packages.

2005-12-07  Werner Koch  <wk@g10code.com>

	Released 0.3.1.

2005-12-06  Werner Koch  <wk@g10code.com>

	Released 0.3.0.

2005-12-02  Werner Koch  <wk@g10code.com>

	* packages/download.sh: New option --force.  Default to skip
	already existing packages.

2005-12-02  Timo Schulz  <ts@g10code.com>

	* packages/download.sh: Update WinPT url.
	* packages/packages.keys: Add second release key for WinPT.
	
2005-11-30  Werner Koch  <wk@g10code.com>

	* src/inst-gpgol.nsi: Install German translation.
	* src/uninst-gpgol.nsi: Likewise.

2005-11-29  Werner Koch  <wk@g10code.com>

	* packages/packages.current: New.  This is more or less a
	template; the version on the server may be updated without syncing
	it to this version.
	* packages/packages.keys: New.
	* packages/download.sh: Rewritten.

	* src/inst-sections.nsi (.onInstFailed, .onInstSuccess): New.
	(RunOnFinish): New function to run a key manager depending on the
	installed ones.
	* src/installer.nsi: Use a function to run the key manager on finish.

2005-11-28  Werner Koch  <wk@g10code.com>

	Released 0.2.1.

	* configure.ac: Append the revision number to the version suffix.

	* src/Makefile.am: Reduced verbosity level of makensis.

	* src/exdll.h: Adapted license to the NSIS one.
	(popstring): Add arg MAXLEN.
	* src/g4wihelp.c (playsound, stopsound): New.
	(splash_wndproc, showsplash): New.
	* src/inst-sections.nsi (.onInit): Use our new g4wihelp functions.
	(-startmenu): Translate the startmenu entries for the manuals.

	* src/installer.nsi (ReserveFile): Removed advsplash.

	* src/inst-gpa.nsi: Uppercase section name.

	* src/inst-man_novice_de.nsi, src/inst-man_advanced_de.nsi:
	Translate section name.

	* src/inst-gpgol.nsi: Try to register even on overwrite failure.

2005-11-24  Werner Koch  <wk@g10code.com>

	Released 0.2.0.

	* src/installer.nsi (PrintCloseOtherApps): New.

2005-11-21  Werner Koch  <wk@g10code.com>

	Released 0.1.0.

	* src/inst-sections.nsi: Disable uninstaller menu link.

2005-11-18  Werner Koch  <wk@g10code.com>

	* src/inst-sections.nsi: Add more dependencies to sylpheed.

2005-11-17  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Add glib dependency for GPGME.
	* src/Makefile.am (gpg4win_pkg_gpgme_configure): Add
	--enable-w32-glib and LDFLAGS.
	* src/inst-gpgme.nsi: Install libgpgme-glib-11.dll.
	* src/uninst-gpgme.nsi: Uninstall libgpgme-glib-11.dll.

2005-11-17  Werner Koch  <wk@g10code.com>

	* src/Makefile.am (EXTRA_DIST): Add loreley.mid as original source
	of the splash sound.

	Add packages pthreads-w32 and regex.

	* src/gpg4win.mk.in (MPKG_template): New.
	(pkgmkflags, pkgmkarg): New.
	(DEFLATE_macro): Use overwrite option for unzip.

2005-11-16  Werner Koch  <wk@g10code.com>

	* src/inst-crypt.nsi, src/uninst-crypt.nsi: New.
	* m4/gpg4win.m4 (GPG4WIN_BPKG_GNUWIN32_LIB): New.

	* src/uninst-sylpheed-claws.nsi, src/uninst-eudoragpg.nsi
	* src/inst-eudoragpg.nsi, src/inst-sylpheed-claws.nsi: New.
	* include/config.nsi.in: Add support for Sylpheed and EudorGPG.
	* src/Makefile.am (gpg4win_spkgs): Add them.
	(gpg4win_pkg_sylpheed_claws_configure): New. 

	* src/inst-sections.nsi: Add them.
	* configure.ac: Add them.

2005-11-15  Werner Koch  <wk@g10code.com>

	* src/Makefile.am (EXTRA_DIST): Add g4wihelp.nsi.
	(CLEANFILES): Add g4wihelp.dll.

	* src/inst-gpgee.nsi: Use RegDLL and UnRegDLL.  Print warning on
	registration failure.  Use move approach for active extension.
	* src/inst-gpgol.nsi: Ditto.
	* src/uninst-gpgol.nsi: Use UnRegDLL and allow rebooting.
	* src/uninst-gpgee.nsi: Ditto.

	* src/installer.nsi: Moved inclusion of g4wihelp.nsi after the
	language definitions.

	* configure.ac (VERSION): Generate extended version information.
	* include/config.nsi.in: Define replacements
	* src/gpg4win.nsi, src/gpg4win-src.nsi: Use them for PROD_VERSION.

	* src/gpg4win-src.nsi: Add our build dir as plugindir.

2005-11-14  Werner Koch  <wk@g10code.com>

	* src/inst-sections.nsi (.onInit): Make sure that only one
	instance of the installer may run at the same time.
	* src/installer.nsi: Include g4wihelp.nsi.
	* src/g4wihelp.nsi: New.
	* src/g4wihelp.c: New.
	* src/exdll.h: New.

2005-11-11  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg4win.mk.in (stamps/stamp-$(1)-00-install): Don't strip.
	(stamps/stamp-$(1)-01-install-dev): Likewise.

2005-11-08  Werner Koch  <wk@g10code.com>

	* src/gpg4win.mk.in: Also strip DLLs; I am using stripped DLLs for
	months now.

	Released 0.0.2.

	* src/installer.nsi (T_WelcomeTitle): New.
	(MUI_WELCOMEPAGE_TITLE): New.
	(MUI_FINISHPAGE): Enhanced.

	* src/installer-finish.nsi (Uninstall): use a loop to delete the
	startmenu.  Fixed Registry cleaning.

	* src/inst-sections.nsi (onInit): Make sure that only one
	installer is running.

2005-11-07  Werner Koch  <wk@g10code.com>

	* src/installer-finish.nsi: Fixed dereferencing of variable.

	* src/inst-sections.nsi, src/installer-finish.nsi: Ensure that the
	menu gets written for all users.

	* packages/download.sh: Add dummy manual pages.

	* src/installer.nsi: Move compression type to ...
	* src/gpg4win.nsi: .. here and ...
	* src/gpg4win-src.nsi: .. here.  Use zlib for sources.
	
	* src/gpg4win-splash.bmp: New.
	* src/gpg4win-splash.wav: New.
	* src/installer.nsi: Reserve these files
	* src/inst-sections.nsi: Show silly splash screen.
	
	* include/config.nsi.in: Add dummy packages for the manuals.
	* src/uninst-man_advanced_de.nsi, src/uninst-man_novice_de.nsi
	* src/inst-man_advanced_de.nsi, src/inst-man_novice_de.nsi: Ditto.
	* src/Makefile.am (gpg4win_spkgs): Ditto.
	* src/inst-sections.nsi: Ditto.
	
	* src/installer-finish.nsi: Ditto.

	* src/inst-gnupg.nsi: Make section read-only.

2005-11-04  Marcus Brinkmann  <marcus@g10code.de>

	Released 0.0.1.

	* Makefile.am (EXTRA_DIST): Add missing backslash.
	* include/config.nsi.in (top_srcdir): Remove.
	* src/Makefile.am (gpg4win-src-$(VERSION).exe): Pass TOP_SRCDIR,
	SRCDIR and BUILD_DIR (absolute path) as defined values.  Also, use
	$(srcdir) for nsi source file.
	(gpg4win-src-$(VERSION).exe): Likewise.
	* src/gpg4win.nsi: Change directory to build directory.
	Add include dirs ${TOP_SRCDIR} and ${SRCDIR}.
	* src/gpg4win-src.nsi: Likewise.
	* src/installer.nsi: Use ${TOP_SRCDIR} to access COPYING file.
	* src/gpg4win.mk (stamps/stamp-final): Depend on
	stamps/stamp-directories.

2005-11-03  Werner Koch  <wk@g10code.com>

	* include/config.nsi.in: Adjusted for WinPT being a source package now.

	* src/inst-winpt.nsi: Adjusted location of to be installed files.

	* src/Makefile.am (gpg4win_spkgs): Add winpt.
	(gpg4win_bpkgs): Remove winpt
	(gpg4win_pkg_winpt_configure): Added.

	* configure.ac (winpt): Made it a source package.

	* configure.ac: Bail out if a required tool is missing.

2005-11-02  Werner Koch  <wk@g10code.com>

	* README.SVN, autogen.sh: New.

	* Makefile.am (AUTOMAKE_OPTIONS): Add dist-bzip2.

	* packages/download.sh: Removed inclusion of config.h and defined
	WGET directly.  This is required because the download script needs
	to be used before configure and thus we can't use configure to
	determine the to be used wget; the config.sh script was anyway
	missing.

2005-10-26  Werner Koch  <wk@g10code.com>

	* README: Add basic instructions on how to add new packages.

	* configure.ac: Add detection of GPGee and WinPT.
	* m4/gpg4win.m4 (GPG4WIN_BPKG_BINSRC): New.

	* include/config.nsi.in: Add defines for WinPT and GGee.
	* src/inst-winpt.nsi: New.
	* src/inst-gpgee.nsi: New.
	* src/uninst-winpt.nsi: New.
	* src/uninst-gpgee.nsi: New.
	* src/Makefile.am (gpg4win_bpkgs): Add WinPT and GPGee.
	* src/inst-sections.nsi: Ditto.
	* src/installer-finish.nsi: Ditto.
	* packages/download.sh (server_winpt): Add WinPT.
	(server_gpgee): Add temporary location for gpgee.
	(server_g10code): Add temporary location for gpg-error, gpgme,
	gpa and gpgol.

2005-10-25  Werner Koch  <wk@g10code.com>

	* src/installer.nsi: Don't put the version into the "Name" variable.

2005-10-24  Marcus Brinkmann  <marcus@g10code.de>

	* COPYING: New file.

2005-10-23  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg4win.mk.in (pdir): Call post_install with source dir as
	current directory.
	* configure.ac (VERSION): Check for dlltool.
	* src/Makefile.am (gpg4win_pkg_libiconv_post_install,
	gpg4win_pkg_gettext_post_install): New macros.
	* src/libiconv.def, src/libintl.def: New files.
	* src/inst-libgpg-error.nsi: Install mo files.
	* src/uninst-libgpg-error.nsi: Uninstall mo files.

2005-10-22  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Add libiconv and gettext as dependencies for
	libgpg-error and gpa.
	* src/Makefile.am (gpg4win_pkg_libgpg_error_configure): New
	variable.

	* src/Makefile.am (common_nsi): Add uninstaller files.
	* src/uninst-atk.nsi, src/uninst-gettext.nsi, src/uninst-glib.nsi,
	src/uninst-gnupg.nsi, src/uninst-gpa.nsi, src/uninst-gpgme.nsi,
	src/uninst-gpgol.nsi, src/uninst-gtk+.nsi,
	src/uninst-libgpg-error.nsi, src/uninst-libiconv.nsi,
	src/uninst-libpng.nsi, src/uninst-pango.nsi,
	src/uninst-pkgconfig.nsi, src/uninst-zlib.nsi: New file.
	* src/inst-sections.nsi: Include the uninstallers in reverse
	order.
	* src/inst-gpgol.nsi: Register the gpgol DLL at installation, and
	(surprise!) unregister it at deinstallation.

2005-10-21  Marcus Brinkmann  <marcus@g10code.de>

	* src/Makefile.am (gpg4win_pkg_gpgme_configure): Enable static
	library for gpgol.
	(gpg4win_pkg_gpgol_configure): Add gpg-error prefix.

	* src/inst-gnupg.nsi: Fix path of deleted files.

	* src/gpg4win.mk.in (pdir): Don't strip DLL files.

2005-10-20  Marcus Brinkmann  <marcus@g10code.de>

	* m4/gpg4win.m4 (GPG4WIN_DEFINE): New function.  Use it to define
	feature symbols for NSI.  Use m4_translit instead of m4_bpatsubst.
	New option --enable-debug.
	* include/config.nsi.in: Catch all this new information.
	* src/gpg4win.nsi (DEBUG): Define if [GPG4WIN_DEBUG].
	(HAVE_PKG_GPA): Don't define here.
	* src/inst-sections.nsi: Guard all package specific commands with
	feature macro checks.  Calculate dependencies on .onInit, too.
	* src/gpg4win.mk.in (STRIP_macro): Quote $(DEBUG) strictly.

	* src/installer-finish.nsi: Add support for Add/Remove Programs.

2005-10-20  Werner Koch  <wk@g10code.com>

	* m4/gpg4win.m4 (GPG4WIN_FIND): Quote a file variable.
	(GPG4WIN_SPKG): Ditto.

2005-10-20  Marcus Brinkmann  <marcus@g10code.de>

	* src/gpg4win.nsi: Add start menu support.
	* src/inst-sections.nsi: Likewise.
	* src/installer.nsi: Likewise.
	* src/installer-finish.nsi: Likewise.

	* src/gpg4win.mk.in (GETVAR): Don't quote the first $.
	(STRIP_macro): New macro.
	(SPKG, BPKG): Use it here.

	* Makefile.am (EXTRA_DIST): New target.
	* include/Makefile.am (EXTRA_DIST): Change config.nsh.in to
	config.nsi.in.
	* src/Makefile.am (EXTRA_DIST): Remove pkg-config.  Add nsi files.

	* src/inst-gpgol.nsi: Change libgpgol-0.9.3.dll to gpgol.dll.

	* src/gpg4win.mk.in (stamp/stamp-$(1)-02-configure): Add
	-mms-bitfields to CFLAGS.

	* src/gpg4win.mk.in (stamps/stamp-final): New target that replaces
	phony target final.

2005-10-20  Werner Koch  <wk@g10code.com>

	* src/*.nsi: Add a Latin-1 tag to make sure that Emacs uses the
	correct encoding.
	* doc/nsi-mode.el: Added for convenience.

2005-10-20  Marcus Brinkmann  <marcus@g10code.de>

	* configure.ac: Check for makensis.  Add gnupg as dependency for
	gpgme.  Change config.sh into config.nsi.
	* include/config.sh.in: File removed.
	* src/gpg4win.sh: File removed.
	* include/config.nsi.in: New file.
	* include/Makefile.am (EXTRA_DIST): Change config.sh.in into
	config.nsi.in.
	* src/Makefile.am (gpg4win-$(VERSION).exe): New target.
	(gpg4win-src-$(VERSION).exe): New target.
	(all-local): Remove dependency on phony target all-gpg4win.
	(all-local): Add dependency on gpg4win-$(VERSION).exe and
	gpg4win-src-$(VERSION).exe.
	(clean-local): New rule for this target.
	* src/gpg4win.nsi, src/gpg4win-src.nsi, src/inst-atk.nsi,
	src/inst-gettext.nsi, src/inst-glib.nsi, src/inst-gnupg.nsi,
	src/inst-gpa.nsi, src/inst-gpgme.nsi, src/inst-gpgol.nsi,
	src/inst-gtk+.nsi, src/inst-libgpg-error.nsi,
	src/inst-libiconv.nsi, src/inst-libpng.nsi, src/inst-pango.nsi,
	src/inst-pkgconfig.nsi, src/inst-sections.nsi, src/inst-zlib.nsi,
	src/installer-finish.nsi, src/installer.nsi: New file.

2005-10-18  Marcus Brinkmann  <marcus@g10code.de>

	configure.ac: Enable libiconv and gettext dependencies for Gtk+.

	* src/Makefile.am: First real implementation.
	* src/gpg4win.mk.in: New file.
	* configure.ac: Activate libiconv and gettext.
	(AC_CONFIG_FILES): Add packages/Makefile and src/gpg4win.mk.
	* m4/gpg4win.m4 (GPG4WIN_BPKG_GNU): New macro.
	* include/config.sh.in: Add variables for libiconv and gettext.

2005-10-15  Marcus Brinkmann  <marcus@g10code.de>

	* m4/gpg4win.m4: New file.
	* include/config.sh: Add many package variables.
	* configure.ac: Call package detection macros.
	* Makefile.am (ACLOCAL_AMFLAGS): New variable.
	* src/gpg4win.sh: Use some of the new variables.

	* packages/download.sh: Fix downloading of Gtk source packages.


 Copyright 2005, 2006, 2007, 2008, 2009 g10 Code GmbH

 This file is free software; as a special exception the author gives
 unlimited permission to copy and/or distribute it, with or without
 modifications, as long as this notice is preserved.

 This file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY, to the extent permitted by law; without even the
 implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
